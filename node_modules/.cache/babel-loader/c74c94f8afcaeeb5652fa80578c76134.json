{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useState, useRef, useCallback, useImperativeHandle, useReducer } from 'react';\nimport { getTranslateDOMPositionXY } from 'dom-lib/lib/transition/translateDOMPositionXY';\nimport PropTypes from 'prop-types';\nimport isFunction from 'lodash/isFunction';\nimport flatten from 'lodash/flatten';\nimport Row from './Row';\nimport CellGroup from './CellGroup';\nimport Scrollbar from './Scrollbar';\nimport MouseArea from './MouseArea';\nimport Loader from './Loader';\nimport EmptyMessage from './EmptyMessage';\nimport TableContext from './TableContext';\nimport { SCROLLBAR_WIDTH, CELL_PADDING_HEIGHT, SORT_TYPE } from './constants';\nimport { mergeCells, flattenData, isRTL, findRowKeys, findAllParents, shouldShowRowByExpanded, resetLeftForCells, useClassNames, useControlled, useUpdateEffect, useCellDescriptor, useTableDimension, useTableRows, useAffix, useScrollListener, usePosition } from './utils';\nvar Table = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var affixHeader = props.affixHeader,\n      children = props.children,\n      classPrefix = props.classPrefix,\n      className = props.className,\n      dataProp = props.data,\n      widthProp = props.width,\n      expandedRowKeysProp = props.expandedRowKeys,\n      defaultExpandAllRows = props.defaultExpandAllRows,\n      defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n      style = props.style,\n      id = props.id,\n      isTree = props.isTree,\n      hover = props.hover,\n      bordered = props.bordered,\n      cellBordered = props.cellBordered,\n      wordWrap = props.wordWrap,\n      loading = props.loading,\n      locale = props.locale,\n      showHeader = props.showHeader,\n      sortColumn = props.sortColumn,\n      rowHeightProp = props.rowHeight,\n      sortTypeProp = props.sortType,\n      defaultSortType = props.defaultSortType,\n      headerHeightProp = props.headerHeight,\n      minHeight = props.minHeight,\n      height = props.height,\n      autoHeight = props.autoHeight,\n      rtlProp = props.rtl,\n      translate3d = props.translate3d,\n      rowKey = props.rowKey,\n      virtualized = props.virtualized,\n      rowHeight = props.rowHeight,\n      rowClassName = props.rowClassName,\n      rowExpandedHeight = props.rowExpandedHeight,\n      disabledScroll = props.disabledScroll,\n      affixHorizontalScrollbar = props.affixHorizontalScrollbar,\n      loadAnimation = props.loadAnimation,\n      shouldUpdateScroll = props.shouldUpdateScroll,\n      renderRowExpandedProp = props.renderRowExpanded,\n      renderLoading = props.renderLoading,\n      renderEmpty = props.renderEmpty,\n      onSortColumn = props.onSortColumn,\n      onScroll = props.onScroll,\n      renderTreeToggle = props.renderTreeToggle,\n      onRowClick = props.onRowClick,\n      onRowContextMenu = props.onRowContextMenu,\n      onExpandChange = props.onExpandChange,\n      onTouchStart = props.onTouchStart,\n      onTouchMove = props.onTouchMove,\n      rest = _objectWithoutPropertiesLoose(props, [\"affixHeader\", \"children\", \"classPrefix\", \"className\", \"data\", \"width\", \"expandedRowKeys\", \"defaultExpandAllRows\", \"defaultExpandedRowKeys\", \"style\", \"id\", \"isTree\", \"hover\", \"bordered\", \"cellBordered\", \"wordWrap\", \"loading\", \"locale\", \"showHeader\", \"sortColumn\", \"rowHeight\", \"sortType\", \"defaultSortType\", \"headerHeight\", \"minHeight\", \"height\", \"autoHeight\", \"rtl\", \"translate3d\", \"rowKey\", \"virtualized\", \"rowHeight\", \"rowClassName\", \"rowExpandedHeight\", \"disabledScroll\", \"affixHorizontalScrollbar\", \"loadAnimation\", \"shouldUpdateScroll\", \"renderRowExpanded\", \"renderLoading\", \"renderEmpty\", \"onSortColumn\", \"onScroll\", \"renderTreeToggle\", \"onRowClick\", \"onRowContextMenu\", \"onExpandChange\", \"onTouchStart\", \"onTouchMove\"]);\n\n  if (isTree && !rowKey) {\n    throw new Error('The `rowKey` is required when set isTree');\n  }\n\n  var _useClassNames = useClassNames(classPrefix || 'table', typeof classPrefix !== 'undefined'),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      mergeCls = _useClassNames.merge,\n      prefix = _useClassNames.prefix; // Use `forceUpdate` to force the component to re-render after manipulating the DOM.\n\n\n  var _useReducer = useReducer(function (x) {\n    return x + 1;\n  }, 0),\n      forceUpdate = _useReducer[1];\n\n  var _useTableRows = useTableRows({\n    data: dataProp,\n    wordWrap: wordWrap,\n    prefix: prefix\n  }),\n      tableRowsMaxHeight = _useTableRows.tableRowsMaxHeight,\n      bindTableRowsRef = _useTableRows.bindTableRowsRef;\n\n  var _useControlled = useControlled(expandedRowKeysProp, defaultExpandAllRows ? findRowKeys(dataProp, rowKey, isFunction(renderRowExpandedProp)) : defaultExpandedRowKeys || []),\n      expandedRowKeys = _useControlled[0],\n      setExpandedRowKeys = _useControlled[1];\n\n  var _useState = useState(isTree ? flattenData(dataProp) : dataProp),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var headerHeight = showHeader ? headerHeightProp : 0;\n  var rtl = rtlProp || isRTL();\n\n  var getRowHeight = function getRowHeight(rowData) {\n    if (rowData === void 0) {\n      rowData = {};\n    }\n\n    return typeof rowHeightProp === 'function' ? rowHeightProp(rowData) : rowHeightProp;\n  };\n\n  var translateDOMPositionXY = useRef(getTranslateDOMPositionXY({\n    enable3DTransform: translate3d\n  }));\n  var shouldFixedColumn = Array.from(flatten(children)).some(function (child) {\n    var _child$props;\n\n    return child === null || child === void 0 ? void 0 : (_child$props = child.props) === null || _child$props === void 0 ? void 0 : _child$props.fixed;\n  });\n  var colCounts = useRef(flatten(children).length);\n  var visibleRows = useRef([]);\n  var mouseAreaRef = useRef();\n  var tableRef = useRef();\n  var tableHeaderRef = useRef();\n  var affixHeaderWrapperRef = useRef();\n  var headerWrapperRef = useRef();\n  var tableBodyRef = useRef();\n  var wheelWrapperRef = useRef();\n  var scrollbarXRef = useRef();\n  var scrollbarYRef = useRef();\n\n  var _useTableDimension = useTableDimension({\n    data: dataProp,\n    width: widthProp,\n    rowHeight: rowHeight,\n    tableRef: tableRef,\n    headerWrapperRef: headerWrapperRef,\n    prefix: prefix,\n    affixHeader: affixHeader,\n    affixHorizontalScrollbar: affixHorizontalScrollbar,\n    headerHeight: headerHeight,\n    height: height,\n    autoHeight: autoHeight,\n    children: children,\n    expandedRowKeys: expandedRowKeys,\n    onTableScroll: function onTableScroll(_ref) {\n      var x = _ref.x,\n          y = _ref.y;\n      handleScrollTo({\n        x: x,\n        y: y\n      });\n    },\n    onTableContentHeightChange: function onTableContentHeightChange() {\n      forceUpdate();\n\n      if (shouldUpdateScroll) {\n        handleScrollTop(0);\n      }\n    },\n    onTableContentWidthChange: function onTableContentWidthChange() {\n      if (shouldUpdateScroll) {\n        handleScrollLeft(0);\n      }\n    },\n    onTableWidthChange: function onTableWidthChange() {\n      if (shouldUpdateScroll) {\n        handleScrollLeft(0);\n      }\n    }\n  }),\n      contentHeight = _useTableDimension.contentHeight,\n      contentWidth = _useTableDimension.contentWidth,\n      minScrollY = _useTableDimension.minScrollY,\n      minScrollX = _useTableDimension.minScrollX,\n      scrollY = _useTableDimension.scrollY,\n      scrollX = _useTableDimension.scrollX,\n      tableWidth = _useTableDimension.tableWidth,\n      tableOffset = _useTableDimension.tableOffset,\n      headerOffset = _useTableDimension.headerOffset,\n      setScrollY = _useTableDimension.setScrollY,\n      setScrollX = _useTableDimension.setScrollX;\n\n  var getTableHeight = useCallback(function () {\n    if (data.length === 0 && autoHeight) {\n      return height;\n    }\n\n    return autoHeight ? Math.max(headerHeight + contentHeight.current, minHeight) : height;\n  }, [autoHeight, contentHeight, data.length, headerHeight, height, minHeight]);\n  useAffix({\n    tableHeight: getTableHeight,\n    contentHeight: contentHeight,\n    affixHorizontalScrollbar: affixHorizontalScrollbar,\n    affixHeader: affixHeader,\n    tableOffset: tableOffset,\n    headerOffset: headerOffset,\n    headerHeight: headerHeight,\n    scrollbarXRef: scrollbarXRef,\n    affixHeaderWrapperRef: affixHeaderWrapperRef\n  });\n\n  var _usePosition = usePosition({\n    data: dataProp,\n    height: height,\n    tableWidth: tableWidth,\n    tableRef: tableRef,\n    prefix: prefix,\n    translateDOMPositionXY: translateDOMPositionXY,\n    wheelWrapperRef: wheelWrapperRef,\n    headerWrapperRef: headerWrapperRef,\n    affixHeaderWrapperRef: affixHeaderWrapperRef,\n    tableHeaderRef: tableHeaderRef,\n    scrollX: scrollX,\n    scrollY: scrollY,\n    contentWidth: contentWidth,\n    shouldFixedColumn: shouldFixedColumn\n  }),\n      forceUpdatePosition = _usePosition.forceUpdatePosition;\n\n  var _useScrollListener = useScrollListener({\n    rtl: rtl,\n    data: dataProp,\n    children: children,\n    height: height,\n    virtualized: virtualized,\n    getTableHeight: getTableHeight,\n    contentHeight: contentHeight,\n    headerHeight: headerHeight,\n    autoHeight: autoHeight,\n    tableBodyRef: tableBodyRef,\n    scrollbarXRef: scrollbarXRef,\n    scrollbarYRef: scrollbarYRef,\n    disabledScroll: disabledScroll,\n    loading: loading,\n    tableRef: tableRef,\n    contentWidth: contentWidth,\n    tableWidth: tableWidth,\n    scrollY: scrollY,\n    minScrollY: minScrollY,\n    minScrollX: minScrollX,\n    scrollX: scrollX,\n    setScrollX: setScrollX,\n    setScrollY: setScrollY,\n    forceUpdatePosition: forceUpdatePosition,\n    onScroll: onScroll,\n    onTouchMove: onTouchMove,\n    onTouchStart: onTouchStart\n  }),\n      isScrolling = _useScrollListener.isScrolling,\n      handleHorizontalScroll = _useScrollListener.handleHorizontalScroll,\n      handleVerticalScroll = _useScrollListener.handleVerticalScroll,\n      handleBodyScroll = _useScrollListener.handleBodyScroll,\n      handleScrollTop = _useScrollListener.handleScrollTop,\n      handleScrollLeft = _useScrollListener.handleScrollLeft,\n      handleScrollTo = _useScrollListener.handleScrollTo;\n\n  var _useCellDescriptor = useCellDescriptor({\n    children: children,\n    rtl: rtl,\n    mouseAreaRef: mouseAreaRef,\n    tableRef: tableRef,\n    minScrollX: minScrollX,\n    scrollX: scrollX,\n    tableWidth: tableWidth,\n    headerHeight: headerHeight,\n    showHeader: showHeader,\n    sortType: sortTypeProp,\n    defaultSortType: defaultSortType,\n    sortColumn: sortColumn,\n    prefix: prefix,\n    onSortColumn: onSortColumn,\n    rowHeight: rowHeight\n  }),\n      headerCells = _useCellDescriptor.headerCells,\n      bodyCells = _useCellDescriptor.bodyCells,\n      allColumnsWidth = _useCellDescriptor.allColumnsWidth,\n      hasCustomTreeCol = _useCellDescriptor.hasCustomTreeCol;\n\n  useUpdateEffect(function () {\n    setData(isTree ? flattenData(dataProp) : dataProp);\n  }, [dataProp, isTree]);\n  useUpdateEffect(function () {\n    colCounts.current = flatten(children || []).length;\n  }, [children]);\n  useImperativeHandle(ref, function () {\n    return {\n      get root() {\n        return tableRef.current;\n      },\n\n      get body() {\n        return wheelWrapperRef.current;\n      },\n\n      scrollTop: handleScrollTop,\n      scrollLeft: handleScrollLeft\n    };\n  });\n  var rowWidth = allColumnsWidth > tableWidth.current ? allColumnsWidth : tableWidth.current;\n  var classes = mergeCls(className, withClassPrefix({\n    bordered: bordered,\n    hover: hover,\n    loading: loading,\n    treetable: isTree,\n    'word-wrap': wordWrap,\n    'cell-bordered': cellBordered\n  }));\n\n  var styles = _extends({\n    width: widthProp || 'auto',\n    height: getTableHeight()\n  }, style);\n\n  var renderRowExpanded = useCallback(function (rowData) {\n    var styles = {\n      height: rowExpandedHeight\n    };\n\n    if (typeof renderRowExpandedProp === 'function') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('row-expanded'),\n        style: styles\n      }, renderRowExpandedProp(rowData));\n    }\n\n    return null;\n  }, [prefix, renderRowExpandedProp, rowExpandedHeight]);\n\n  var renderRow = function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n    var depth = props.depth,\n        restRowProps = _objectWithoutPropertiesLoose(props, [\"depth\"]);\n\n    if (typeof rowClassName === 'function') {\n      restRowProps.className = rowClassName(rowData);\n    } else {\n      restRowProps.className = rowClassName;\n    }\n\n    var rowStyles = _extends({}, props === null || props === void 0 ? void 0 : props.style);\n\n    var rowRight = 0;\n\n    if (rtl && contentWidth.current > tableWidth.current) {\n      rowRight = tableWidth.current - contentWidth.current;\n      rowStyles.right = rowRight;\n    } // IF there are fixed columns, add a fixed group\n\n\n    if (shouldFixedColumn && contentWidth.current > tableWidth.current) {\n      var fixedLeftCells = [];\n      var fixedRightCells = [];\n      var scrollCells = [];\n      var fixedLeftCellGroupWidth = 0;\n      var fixedRightCellGroupWidth = 0;\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var _cell$props = cell.props,\n            fixed = _cell$props.fixed,\n            width = _cell$props.width;\n        var isFixedStart = fixed === 'left' || fixed === true;\n        var isFixedEnd = fixed === 'right';\n\n        if (rtl) {\n          isFixedStart = fixed === 'right';\n          isFixedEnd = fixed === 'left' || fixed === true;\n        }\n\n        if (isFixedStart) {\n          fixedLeftCells.push(cell);\n          fixedLeftCellGroupWidth += width;\n        } else if (isFixedEnd) {\n          fixedRightCells.push(cell);\n          fixedRightCellGroupWidth += width;\n        } else {\n          scrollCells.push(cell);\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n        \"data-depth\": depth,\n        style: rowStyles\n      }), fixedLeftCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"left\",\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedLeftCellGroupWidth,\n        style: rtl ? {\n          right: tableWidth.current - fixedLeftCellGroupWidth - rowRight\n        } : null\n      }, mergeCells(resetLeftForCells(fixedLeftCells))) : null, /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(scrollCells)), fixedRightCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"right\",\n        style: rtl ? {\n          right: 0 - rowRight\n        } : {\n          left: tableWidth.current - fixedRightCellGroupWidth - SCROLLBAR_WIDTH\n        },\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedRightCellGroupWidth + SCROLLBAR_WIDTH\n      }, mergeCells(resetLeftForCells(fixedRightCells, SCROLLBAR_WIDTH))) : null, shouldRenderExpandedRow && renderRowExpanded(rowData));\n    }\n\n    return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n      \"data-depth\": depth,\n      style: rowStyles\n    }), /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(cells)), shouldRenderExpandedRow && renderRowExpanded(rowData));\n  };\n\n  var renderTableHeader = function renderTableHeader(headerCells, rowWidth) {\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var rowProps = {\n      'aria-rowindex': 1,\n      rowRef: tableHeaderRef,\n      width: rowWidth,\n      height: getRowHeight(),\n      headerHeight: headerHeight,\n      isHeaderRow: true,\n      top: 0\n    };\n    var fixedStyle = {\n      position: 'fixed',\n      overflow: 'hidden',\n      height: headerHeight,\n      width: tableWidth.current,\n      top: top\n    }; // Affix header\n\n    var header = /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('affix-header'),\n      style: fixedStyle,\n      ref: affixHeaderWrapperRef\n    }, renderRow(rowProps, headerCells));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, (affixHeader === 0 || affixHeader) && header, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      className: prefix('header-row-wrapper'),\n      ref: headerWrapperRef\n    }, renderRow(rowProps, headerCells)));\n  };\n\n  var shouldRenderExpandedRow = useCallback(function (rowData) {\n    return isFunction(renderRowExpandedProp) && !isTree && expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n  }, [expandedRowKeys, isTree, renderRowExpandedProp, rowKey]);\n  var bindRowClick = useCallback(function (rowData) {\n    return function (event) {\n      onRowClick === null || onRowClick === void 0 ? void 0 : onRowClick(rowData, event);\n    };\n  }, [onRowClick]);\n  var bindRowContextMenu = useCallback(function (rowData) {\n    return function (event) {\n      onRowContextMenu === null || onRowContextMenu === void 0 ? void 0 : onRowContextMenu(rowData, event);\n    };\n  }, [onRowContextMenu]);\n  var handleTreeToggle = useCallback(function (rowKey, _rowIndex, rowData) {\n    var open = false;\n    var nextExpandedRowKeys = [];\n\n    for (var i = 0; i < expandedRowKeys.length; i++) {\n      var key = expandedRowKeys[i];\n\n      if (key === rowKey) {\n        open = true;\n      } else {\n        nextExpandedRowKeys.push(key);\n      }\n    }\n\n    if (!open) {\n      nextExpandedRowKeys.push(rowKey);\n    }\n\n    setExpandedRowKeys(nextExpandedRowKeys);\n    onExpandChange === null || onExpandChange === void 0 ? void 0 : onExpandChange(!open, rowData);\n  }, [expandedRowKeys, onExpandChange, setExpandedRowKeys]);\n\n  var renderRowData = function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n    var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n    var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.key;\n\n    var rowProps = _extends({}, props, {\n      key: nextRowKey,\n      'aria-rowindex': props.key + 2,\n      rowRef: bindTableRowsRef(props.key, rowData),\n      onClick: bindRowClick(rowData),\n      onContextMenu: bindRowContextMenu(rowData)\n    });\n\n    var expanded = expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n    var cells = [];\n\n    for (var i = 0; i < bodyCells.length; i++) {\n      var _cell$props2, _cell$props2$rowSpan;\n\n      var cell = bodyCells[i];\n      var rowSpan = (_cell$props2 = cell.props) === null || _cell$props2 === void 0 ? void 0 : (_cell$props2$rowSpan = _cell$props2.rowSpan) === null || _cell$props2$rowSpan === void 0 ? void 0 : _cell$props2$rowSpan.call(_cell$props2, rowData);\n\n      var _rowHeight = rowSpan ? rowSpan * props.height : props.height;\n\n      if (rowSpan) {\n        var _rowProps$style;\n\n        rowProps.rowSpan = rowSpan;\n        rowProps.style = {\n          /**\n           * In the case of multiple-column merged rows,\n           * the `zIndex` value of the previous row should be greater than the `zIndex` value of the following row.\n           * So `rowSpan` is used as the `zIndex` value.\n           */\n          zIndex: ((_rowProps$style = rowProps.style) === null || _rowProps$style === void 0 ? void 0 : _rowProps$style.zIndex) || rowSpan,\n          overflow: 'unset'\n        }; // TODO: Do not render those cells merged by `rowSpan`\n      }\n\n      cells.push( /*#__PURE__*/React.cloneElement(cell, {\n        hasChildren: hasChildren,\n        rowData: rowData,\n        wordWrap: wordWrap,\n        height: _rowHeight,\n        rowIndex: props.key,\n        depth: props.depth,\n        renderTreeToggle: renderTreeToggle,\n        onTreeToggle: handleTreeToggle,\n        rowKey: nextRowKey,\n        expanded: expanded,\n        rowSpan: rowSpan\n      }));\n    }\n\n    return renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n  };\n\n  var renderScrollbar = function renderScrollbar() {\n    var height = getTableHeight();\n\n    if (disabledScroll) {\n      return null;\n    }\n\n    return [/*#__PURE__*/React.createElement(Scrollbar, {\n      key: \"scrollbar\",\n      tableId: id,\n      style: {\n        width: tableWidth.current\n      },\n      length: tableWidth.current,\n      onScroll: handleHorizontalScroll,\n      scrollLength: contentWidth.current,\n      ref: scrollbarXRef\n    }), /*#__PURE__*/React.createElement(Scrollbar, {\n      key: \"vertical-scrollbar\",\n      vertical: true,\n      tableId: id,\n      length: height - headerHeight,\n      scrollLength: contentHeight.current,\n      onScroll: handleVerticalScroll,\n      ref: scrollbarYRef\n    })];\n  };\n\n  var renderTableBody = function renderTableBody(bodyCells, rowWidth) {\n    var _visibleRows$current;\n\n    var height = getTableHeight();\n    var bodyHeight = height - headerHeight;\n    var bodyStyles = {\n      top: headerHeight,\n      height: bodyHeight\n    };\n    var contentHeight = 0;\n    var topHideHeight = 0;\n    var bottomHideHeight = 0;\n    visibleRows.current = [];\n\n    if (data) {\n      var top = 0; // Row position\n\n      var minTop = Math.abs(scrollY.current);\n      var maxTop = minTop + height + rowExpandedHeight;\n      var isCustomRowHeight = typeof rowHeight === 'function';\n      var isUncertainHeight = !!(renderRowExpanded || isCustomRowHeight || isTree); // If virtualized is enabled and the row height in the Table is variable,\n      // you need to loop through the data to get the height of each row.\n\n      if (isUncertainHeight && virtualized || !virtualized) {\n        for (var index = 0; index < data.length; index++) {\n          var _rowData = data[index];\n          var maxHeight = tableRowsMaxHeight[index];\n          var shouldRender = shouldRenderExpandedRow(_rowData);\n          var nextRowHeight = 0;\n          var depth = 0;\n\n          if (typeof rowHeight === 'function') {\n            nextRowHeight = rowHeight(_rowData);\n          } else {\n            nextRowHeight = maxHeight ? Math.max(maxHeight + CELL_PADDING_HEIGHT, rowHeight) : rowHeight;\n\n            if (shouldRender) {\n              nextRowHeight += rowExpandedHeight;\n            }\n          }\n\n          if (isTree) {\n            var parents = findAllParents(_rowData, rowKey);\n            depth = parents.length; // Determine whether the current line is expanded or collapsed,\n            // if it is collapsed, the line will not be displayed.\n\n            if (!shouldShowRowByExpanded(expandedRowKeys, parents)) {\n              continue;\n            }\n          }\n\n          contentHeight += nextRowHeight;\n          var rowProps = {\n            key: index,\n            top: top,\n            width: rowWidth,\n            depth: depth,\n            height: nextRowHeight\n          };\n          top += nextRowHeight;\n\n          if (virtualized && !wordWrap) {\n            if (top + nextRowHeight < minTop) {\n              topHideHeight += nextRowHeight;\n              continue;\n            } else if (top > maxTop) {\n              bottomHideHeight += nextRowHeight;\n              continue;\n            }\n          }\n\n          visibleRows.current.push(renderRowData(bodyCells, _rowData, rowProps, shouldRender));\n        }\n      } else {\n        // If the row height of the Table is fixed, it is directly calculated by the row height and the number of rows,\n        // thereby reducing the performance cost of traversing all data.\n        var _nextRowHeight = getRowHeight();\n\n        var startIndex = Math.max(Math.floor(minTop / _nextRowHeight), 0);\n        var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / _nextRowHeight), data.length);\n        contentHeight = data.length * _nextRowHeight;\n        topHideHeight = startIndex * _nextRowHeight;\n        bottomHideHeight = (data.length - endIndex) * _nextRowHeight;\n\n        for (var _index = startIndex; _index < endIndex; _index++) {\n          var _rowData2 = data[_index];\n          var _rowProps = {\n            key: _index,\n            top: _index * _nextRowHeight,\n            width: rowWidth,\n            height: _nextRowHeight\n          };\n          visibleRows.current.push(renderRowData(bodyCells, _rowData2, _rowProps, false));\n        }\n      }\n    }\n\n    var wheelStyles = {\n      position: 'absolute',\n      height: contentHeight,\n      minHeight: height,\n      pointerEvents: isScrolling ? 'none' : undefined\n    };\n    var topRowStyles = {\n      height: topHideHeight\n    };\n    var bottomRowStyles = {\n      height: bottomHideHeight\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: tableBodyRef,\n      role: \"rowgroup\",\n      className: prefix('body-row-wrapper'),\n      style: bodyStyles,\n      onScroll: handleBodyScroll\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: wheelStyles,\n      className: prefix('body-wheel-area'),\n      ref: wheelWrapperRef\n    }, topHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: topRowStyles,\n      className: \"virtualized\"\n    }) : null, visibleRows.current, bottomHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: bottomRowStyles,\n      className: \"virtualized\"\n    }) : null), /*#__PURE__*/React.createElement(EmptyMessage, {\n      locale: locale,\n      renderEmpty: renderEmpty,\n      addPrefix: prefix,\n      loading: !!((_visibleRows$current = visibleRows.current) !== null && _visibleRows$current !== void 0 && _visibleRows$current.length) || loading\n    }), renderScrollbar(), /*#__PURE__*/React.createElement(Loader, {\n      locale: locale,\n      loadAnimation: loadAnimation,\n      loading: loading,\n      addPrefix: prefix,\n      renderLoading: renderLoading\n    }));\n  };\n\n  var contextValue = React.useMemo(function () {\n    return {\n      classPrefix: withClassPrefix(),\n      translateDOMPositionXY: translateDOMPositionXY.current,\n      rtl: rtl,\n      isTree: isTree,\n      hasCustomTreeCol: hasCustomTreeCol\n    };\n  }, [hasCustomTreeCol, isTree, rtl, withClassPrefix]);\n  return /*#__PURE__*/React.createElement(TableContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: isTree ? 'treegrid' : 'grid' // The aria-rowcount is specified on the element with the table.\n    // Its value is an integer equal to the total number of rows available, including header rows.\n    ,\n    \"aria-rowcount\": data.length + 1,\n    \"aria-colcount\": colCounts.current\n  }, rest, {\n    className: classes,\n    style: styles,\n    ref: tableRef\n  }), showHeader && renderTableHeader(headerCells, rowWidth), children && renderTableBody(bodyCells, rowWidth), showHeader && /*#__PURE__*/React.createElement(MouseArea, {\n    ref: mouseAreaRef,\n    addPrefix: prefix,\n    headerHeight: headerHeight,\n    height: getTableHeight()\n  })));\n});\nTable.displayName = 'Table';\nTable.defaultProps = {\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  rowKey: 'key',\n  translate3d: true,\n  shouldUpdateScroll: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nTable.propTypes = {\n  autoHeight: PropTypes.bool,\n  affixHeader: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  affixHorizontalScrollbar: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  bordered: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  children: PropTypes.any,\n  cellBordered: PropTypes.bool,\n  data: PropTypes.arrayOf(PropTypes.object),\n  defaultExpandAllRows: PropTypes.bool,\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  defaultSortType: PropTypes.any,\n  disabledScroll: PropTypes.bool,\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  hover: PropTypes.bool,\n  height: PropTypes.number,\n  headerHeight: PropTypes.number,\n  locale: PropTypes.object,\n  loading: PropTypes.bool,\n  loadAnimation: PropTypes.bool,\n  minHeight: PropTypes.number,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  renderTreeToggle: PropTypes.func,\n  renderRowExpanded: PropTypes.func,\n  rowExpandedHeight: PropTypes.number,\n  renderEmpty: PropTypes.func,\n  renderLoading: PropTypes.func,\n  rowClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  rtl: PropTypes.bool,\n  style: PropTypes.object,\n  sortColumn: PropTypes.string,\n  sortType: PropTypes.any,\n  showHeader: PropTypes.bool,\n  shouldUpdateScroll: PropTypes.bool,\n  translate3d: PropTypes.bool,\n  wordWrap: PropTypes.bool,\n  width: PropTypes.number,\n  virtualized: PropTypes.bool,\n  isTree: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onRowContextMenu: PropTypes.func,\n  onScroll: PropTypes.func,\n  onSortColumn: PropTypes.func,\n  onExpandChange: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func\n};\nexport default Table;","map":{"version":3,"sources":["/mnt/c/Users/moham/documents/CSE 3311/Team9Project/node_modules/rsuite-table/es/Table.js"],"names":["_extends","_objectWithoutPropertiesLoose","React","useState","useRef","useCallback","useImperativeHandle","useReducer","getTranslateDOMPositionXY","PropTypes","isFunction","flatten","Row","CellGroup","Scrollbar","MouseArea","Loader","EmptyMessage","TableContext","SCROLLBAR_WIDTH","CELL_PADDING_HEIGHT","SORT_TYPE","mergeCells","flattenData","isRTL","findRowKeys","findAllParents","shouldShowRowByExpanded","resetLeftForCells","useClassNames","useControlled","useUpdateEffect","useCellDescriptor","useTableDimension","useTableRows","useAffix","useScrollListener","usePosition","Table","forwardRef","props","ref","affixHeader","children","classPrefix","className","dataProp","data","widthProp","width","expandedRowKeysProp","expandedRowKeys","defaultExpandAllRows","defaultExpandedRowKeys","style","id","isTree","hover","bordered","cellBordered","wordWrap","loading","locale","showHeader","sortColumn","rowHeightProp","rowHeight","sortTypeProp","sortType","defaultSortType","headerHeightProp","headerHeight","minHeight","height","autoHeight","rtlProp","rtl","translate3d","rowKey","virtualized","rowClassName","rowExpandedHeight","disabledScroll","affixHorizontalScrollbar","loadAnimation","shouldUpdateScroll","renderRowExpandedProp","renderRowExpanded","renderLoading","renderEmpty","onSortColumn","onScroll","renderTreeToggle","onRowClick","onRowContextMenu","onExpandChange","onTouchStart","onTouchMove","rest","Error","_useClassNames","withClassPrefix","mergeCls","merge","prefix","_useReducer","x","forceUpdate","_useTableRows","tableRowsMaxHeight","bindTableRowsRef","_useControlled","setExpandedRowKeys","_useState","setData","getRowHeight","rowData","translateDOMPositionXY","enable3DTransform","shouldFixedColumn","Array","from","some","child","_child$props","fixed","colCounts","length","visibleRows","mouseAreaRef","tableRef","tableHeaderRef","affixHeaderWrapperRef","headerWrapperRef","tableBodyRef","wheelWrapperRef","scrollbarXRef","scrollbarYRef","_useTableDimension","onTableScroll","_ref","y","handleScrollTo","onTableContentHeightChange","handleScrollTop","onTableContentWidthChange","handleScrollLeft","onTableWidthChange","contentHeight","contentWidth","minScrollY","minScrollX","scrollY","scrollX","tableWidth","tableOffset","headerOffset","setScrollY","setScrollX","getTableHeight","Math","max","current","tableHeight","_usePosition","forceUpdatePosition","_useScrollListener","isScrolling","handleHorizontalScroll","handleVerticalScroll","handleBodyScroll","_useCellDescriptor","headerCells","bodyCells","allColumnsWidth","hasCustomTreeCol","root","body","scrollTop","scrollLeft","rowWidth","classes","treetable","styles","createElement","renderRow","cells","shouldRenderExpandedRow","depth","restRowProps","rowStyles","rowRight","right","fixedLeftCells","fixedRightCells","scrollCells","fixedLeftCellGroupWidth","fixedRightCellGroupWidth","i","cell","_cell$props","isFixedStart","isFixedEnd","push","isHeaderRow","left","renderTableHeader","top","rowProps","rowRef","fixedStyle","position","overflow","header","Fragment","role","key","bindRowClick","event","bindRowContextMenu","handleTreeToggle","_rowIndex","open","nextExpandedRowKeys","renderRowData","hasChildren","isArray","nextRowKey","onClick","onContextMenu","expanded","_cell$props2","_cell$props2$rowSpan","rowSpan","call","_rowHeight","_rowProps$style","zIndex","cloneElement","rowIndex","onTreeToggle","renderScrollbar","tableId","scrollLength","vertical","renderTableBody","_visibleRows$current","bodyHeight","bodyStyles","topHideHeight","bottomHideHeight","minTop","abs","maxTop","isCustomRowHeight","isUncertainHeight","index","_rowData","maxHeight","shouldRender","nextRowHeight","parents","_nextRowHeight","startIndex","floor","endIndex","min","ceil","_index","_rowData2","_rowProps","wheelStyles","pointerEvents","undefined","topRowStyles","bottomRowStyles","addPrefix","contextValue","useMemo","Provider","value","displayName","defaultProps","DESC","emptyMessage","propTypes","bool","oneOfType","number","string","any","arrayOf","object","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useState, useRef, useCallback, useImperativeHandle, useReducer } from 'react';\nimport { getTranslateDOMPositionXY } from 'dom-lib/lib/transition/translateDOMPositionXY';\nimport PropTypes from 'prop-types';\nimport isFunction from 'lodash/isFunction';\nimport flatten from 'lodash/flatten';\nimport Row from './Row';\nimport CellGroup from './CellGroup';\nimport Scrollbar from './Scrollbar';\nimport MouseArea from './MouseArea';\nimport Loader from './Loader';\nimport EmptyMessage from './EmptyMessage';\nimport TableContext from './TableContext';\nimport { SCROLLBAR_WIDTH, CELL_PADDING_HEIGHT, SORT_TYPE } from './constants';\nimport { mergeCells, flattenData, isRTL, findRowKeys, findAllParents, shouldShowRowByExpanded, resetLeftForCells, useClassNames, useControlled, useUpdateEffect, useCellDescriptor, useTableDimension, useTableRows, useAffix, useScrollListener, usePosition } from './utils';\nvar Table = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var affixHeader = props.affixHeader,\n      children = props.children,\n      classPrefix = props.classPrefix,\n      className = props.className,\n      dataProp = props.data,\n      widthProp = props.width,\n      expandedRowKeysProp = props.expandedRowKeys,\n      defaultExpandAllRows = props.defaultExpandAllRows,\n      defaultExpandedRowKeys = props.defaultExpandedRowKeys,\n      style = props.style,\n      id = props.id,\n      isTree = props.isTree,\n      hover = props.hover,\n      bordered = props.bordered,\n      cellBordered = props.cellBordered,\n      wordWrap = props.wordWrap,\n      loading = props.loading,\n      locale = props.locale,\n      showHeader = props.showHeader,\n      sortColumn = props.sortColumn,\n      rowHeightProp = props.rowHeight,\n      sortTypeProp = props.sortType,\n      defaultSortType = props.defaultSortType,\n      headerHeightProp = props.headerHeight,\n      minHeight = props.minHeight,\n      height = props.height,\n      autoHeight = props.autoHeight,\n      rtlProp = props.rtl,\n      translate3d = props.translate3d,\n      rowKey = props.rowKey,\n      virtualized = props.virtualized,\n      rowHeight = props.rowHeight,\n      rowClassName = props.rowClassName,\n      rowExpandedHeight = props.rowExpandedHeight,\n      disabledScroll = props.disabledScroll,\n      affixHorizontalScrollbar = props.affixHorizontalScrollbar,\n      loadAnimation = props.loadAnimation,\n      shouldUpdateScroll = props.shouldUpdateScroll,\n      renderRowExpandedProp = props.renderRowExpanded,\n      renderLoading = props.renderLoading,\n      renderEmpty = props.renderEmpty,\n      onSortColumn = props.onSortColumn,\n      onScroll = props.onScroll,\n      renderTreeToggle = props.renderTreeToggle,\n      onRowClick = props.onRowClick,\n      onRowContextMenu = props.onRowContextMenu,\n      onExpandChange = props.onExpandChange,\n      onTouchStart = props.onTouchStart,\n      onTouchMove = props.onTouchMove,\n      rest = _objectWithoutPropertiesLoose(props, [\"affixHeader\", \"children\", \"classPrefix\", \"className\", \"data\", \"width\", \"expandedRowKeys\", \"defaultExpandAllRows\", \"defaultExpandedRowKeys\", \"style\", \"id\", \"isTree\", \"hover\", \"bordered\", \"cellBordered\", \"wordWrap\", \"loading\", \"locale\", \"showHeader\", \"sortColumn\", \"rowHeight\", \"sortType\", \"defaultSortType\", \"headerHeight\", \"minHeight\", \"height\", \"autoHeight\", \"rtl\", \"translate3d\", \"rowKey\", \"virtualized\", \"rowHeight\", \"rowClassName\", \"rowExpandedHeight\", \"disabledScroll\", \"affixHorizontalScrollbar\", \"loadAnimation\", \"shouldUpdateScroll\", \"renderRowExpanded\", \"renderLoading\", \"renderEmpty\", \"onSortColumn\", \"onScroll\", \"renderTreeToggle\", \"onRowClick\", \"onRowContextMenu\", \"onExpandChange\", \"onTouchStart\", \"onTouchMove\"]);\n\n  if (isTree && !rowKey) {\n    throw new Error('The `rowKey` is required when set isTree');\n  }\n\n  var _useClassNames = useClassNames(classPrefix || 'table', typeof classPrefix !== 'undefined'),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      mergeCls = _useClassNames.merge,\n      prefix = _useClassNames.prefix; // Use `forceUpdate` to force the component to re-render after manipulating the DOM.\n\n\n  var _useReducer = useReducer(function (x) {\n    return x + 1;\n  }, 0),\n      forceUpdate = _useReducer[1];\n\n  var _useTableRows = useTableRows({\n    data: dataProp,\n    wordWrap: wordWrap,\n    prefix: prefix\n  }),\n      tableRowsMaxHeight = _useTableRows.tableRowsMaxHeight,\n      bindTableRowsRef = _useTableRows.bindTableRowsRef;\n\n  var _useControlled = useControlled(expandedRowKeysProp, defaultExpandAllRows ? findRowKeys(dataProp, rowKey, isFunction(renderRowExpandedProp)) : defaultExpandedRowKeys || []),\n      expandedRowKeys = _useControlled[0],\n      setExpandedRowKeys = _useControlled[1];\n\n  var _useState = useState(isTree ? flattenData(dataProp) : dataProp),\n      data = _useState[0],\n      setData = _useState[1];\n\n  var headerHeight = showHeader ? headerHeightProp : 0;\n  var rtl = rtlProp || isRTL();\n\n  var getRowHeight = function getRowHeight(rowData) {\n    if (rowData === void 0) {\n      rowData = {};\n    }\n\n    return typeof rowHeightProp === 'function' ? rowHeightProp(rowData) : rowHeightProp;\n  };\n\n  var translateDOMPositionXY = useRef(getTranslateDOMPositionXY({\n    enable3DTransform: translate3d\n  }));\n  var shouldFixedColumn = Array.from(flatten(children)).some(function (child) {\n    var _child$props;\n\n    return child === null || child === void 0 ? void 0 : (_child$props = child.props) === null || _child$props === void 0 ? void 0 : _child$props.fixed;\n  });\n  var colCounts = useRef(flatten(children).length);\n  var visibleRows = useRef([]);\n  var mouseAreaRef = useRef();\n  var tableRef = useRef();\n  var tableHeaderRef = useRef();\n  var affixHeaderWrapperRef = useRef();\n  var headerWrapperRef = useRef();\n  var tableBodyRef = useRef();\n  var wheelWrapperRef = useRef();\n  var scrollbarXRef = useRef();\n  var scrollbarYRef = useRef();\n\n  var _useTableDimension = useTableDimension({\n    data: dataProp,\n    width: widthProp,\n    rowHeight: rowHeight,\n    tableRef: tableRef,\n    headerWrapperRef: headerWrapperRef,\n    prefix: prefix,\n    affixHeader: affixHeader,\n    affixHorizontalScrollbar: affixHorizontalScrollbar,\n    headerHeight: headerHeight,\n    height: height,\n    autoHeight: autoHeight,\n    children: children,\n    expandedRowKeys: expandedRowKeys,\n    onTableScroll: function onTableScroll(_ref) {\n      var x = _ref.x,\n          y = _ref.y;\n      handleScrollTo({\n        x: x,\n        y: y\n      });\n    },\n    onTableContentHeightChange: function onTableContentHeightChange() {\n      forceUpdate();\n\n      if (shouldUpdateScroll) {\n        handleScrollTop(0);\n      }\n    },\n    onTableContentWidthChange: function onTableContentWidthChange() {\n      if (shouldUpdateScroll) {\n        handleScrollLeft(0);\n      }\n    },\n    onTableWidthChange: function onTableWidthChange() {\n      if (shouldUpdateScroll) {\n        handleScrollLeft(0);\n      }\n    }\n  }),\n      contentHeight = _useTableDimension.contentHeight,\n      contentWidth = _useTableDimension.contentWidth,\n      minScrollY = _useTableDimension.minScrollY,\n      minScrollX = _useTableDimension.minScrollX,\n      scrollY = _useTableDimension.scrollY,\n      scrollX = _useTableDimension.scrollX,\n      tableWidth = _useTableDimension.tableWidth,\n      tableOffset = _useTableDimension.tableOffset,\n      headerOffset = _useTableDimension.headerOffset,\n      setScrollY = _useTableDimension.setScrollY,\n      setScrollX = _useTableDimension.setScrollX;\n\n  var getTableHeight = useCallback(function () {\n    if (data.length === 0 && autoHeight) {\n      return height;\n    }\n\n    return autoHeight ? Math.max(headerHeight + contentHeight.current, minHeight) : height;\n  }, [autoHeight, contentHeight, data.length, headerHeight, height, minHeight]);\n  useAffix({\n    tableHeight: getTableHeight,\n    contentHeight: contentHeight,\n    affixHorizontalScrollbar: affixHorizontalScrollbar,\n    affixHeader: affixHeader,\n    tableOffset: tableOffset,\n    headerOffset: headerOffset,\n    headerHeight: headerHeight,\n    scrollbarXRef: scrollbarXRef,\n    affixHeaderWrapperRef: affixHeaderWrapperRef\n  });\n\n  var _usePosition = usePosition({\n    data: dataProp,\n    height: height,\n    tableWidth: tableWidth,\n    tableRef: tableRef,\n    prefix: prefix,\n    translateDOMPositionXY: translateDOMPositionXY,\n    wheelWrapperRef: wheelWrapperRef,\n    headerWrapperRef: headerWrapperRef,\n    affixHeaderWrapperRef: affixHeaderWrapperRef,\n    tableHeaderRef: tableHeaderRef,\n    scrollX: scrollX,\n    scrollY: scrollY,\n    contentWidth: contentWidth,\n    shouldFixedColumn: shouldFixedColumn\n  }),\n      forceUpdatePosition = _usePosition.forceUpdatePosition;\n\n  var _useScrollListener = useScrollListener({\n    rtl: rtl,\n    data: dataProp,\n    children: children,\n    height: height,\n    virtualized: virtualized,\n    getTableHeight: getTableHeight,\n    contentHeight: contentHeight,\n    headerHeight: headerHeight,\n    autoHeight: autoHeight,\n    tableBodyRef: tableBodyRef,\n    scrollbarXRef: scrollbarXRef,\n    scrollbarYRef: scrollbarYRef,\n    disabledScroll: disabledScroll,\n    loading: loading,\n    tableRef: tableRef,\n    contentWidth: contentWidth,\n    tableWidth: tableWidth,\n    scrollY: scrollY,\n    minScrollY: minScrollY,\n    minScrollX: minScrollX,\n    scrollX: scrollX,\n    setScrollX: setScrollX,\n    setScrollY: setScrollY,\n    forceUpdatePosition: forceUpdatePosition,\n    onScroll: onScroll,\n    onTouchMove: onTouchMove,\n    onTouchStart: onTouchStart\n  }),\n      isScrolling = _useScrollListener.isScrolling,\n      handleHorizontalScroll = _useScrollListener.handleHorizontalScroll,\n      handleVerticalScroll = _useScrollListener.handleVerticalScroll,\n      handleBodyScroll = _useScrollListener.handleBodyScroll,\n      handleScrollTop = _useScrollListener.handleScrollTop,\n      handleScrollLeft = _useScrollListener.handleScrollLeft,\n      handleScrollTo = _useScrollListener.handleScrollTo;\n\n  var _useCellDescriptor = useCellDescriptor({\n    children: children,\n    rtl: rtl,\n    mouseAreaRef: mouseAreaRef,\n    tableRef: tableRef,\n    minScrollX: minScrollX,\n    scrollX: scrollX,\n    tableWidth: tableWidth,\n    headerHeight: headerHeight,\n    showHeader: showHeader,\n    sortType: sortTypeProp,\n    defaultSortType: defaultSortType,\n    sortColumn: sortColumn,\n    prefix: prefix,\n    onSortColumn: onSortColumn,\n    rowHeight: rowHeight\n  }),\n      headerCells = _useCellDescriptor.headerCells,\n      bodyCells = _useCellDescriptor.bodyCells,\n      allColumnsWidth = _useCellDescriptor.allColumnsWidth,\n      hasCustomTreeCol = _useCellDescriptor.hasCustomTreeCol;\n\n  useUpdateEffect(function () {\n    setData(isTree ? flattenData(dataProp) : dataProp);\n  }, [dataProp, isTree]);\n  useUpdateEffect(function () {\n    colCounts.current = flatten(children || []).length;\n  }, [children]);\n  useImperativeHandle(ref, function () {\n    return {\n      get root() {\n        return tableRef.current;\n      },\n\n      get body() {\n        return wheelWrapperRef.current;\n      },\n\n      scrollTop: handleScrollTop,\n      scrollLeft: handleScrollLeft\n    };\n  });\n  var rowWidth = allColumnsWidth > tableWidth.current ? allColumnsWidth : tableWidth.current;\n  var classes = mergeCls(className, withClassPrefix({\n    bordered: bordered,\n    hover: hover,\n    loading: loading,\n    treetable: isTree,\n    'word-wrap': wordWrap,\n    'cell-bordered': cellBordered\n  }));\n\n  var styles = _extends({\n    width: widthProp || 'auto',\n    height: getTableHeight()\n  }, style);\n\n  var renderRowExpanded = useCallback(function (rowData) {\n    var styles = {\n      height: rowExpandedHeight\n    };\n\n    if (typeof renderRowExpandedProp === 'function') {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: prefix('row-expanded'),\n        style: styles\n      }, renderRowExpandedProp(rowData));\n    }\n\n    return null;\n  }, [prefix, renderRowExpandedProp, rowExpandedHeight]);\n\n  var renderRow = function renderRow(props, cells, shouldRenderExpandedRow, rowData) {\n    var depth = props.depth,\n        restRowProps = _objectWithoutPropertiesLoose(props, [\"depth\"]);\n\n    if (typeof rowClassName === 'function') {\n      restRowProps.className = rowClassName(rowData);\n    } else {\n      restRowProps.className = rowClassName;\n    }\n\n    var rowStyles = _extends({}, props === null || props === void 0 ? void 0 : props.style);\n\n    var rowRight = 0;\n\n    if (rtl && contentWidth.current > tableWidth.current) {\n      rowRight = tableWidth.current - contentWidth.current;\n      rowStyles.right = rowRight;\n    } // IF there are fixed columns, add a fixed group\n\n\n    if (shouldFixedColumn && contentWidth.current > tableWidth.current) {\n      var fixedLeftCells = [];\n      var fixedRightCells = [];\n      var scrollCells = [];\n      var fixedLeftCellGroupWidth = 0;\n      var fixedRightCellGroupWidth = 0;\n\n      for (var i = 0; i < cells.length; i++) {\n        var cell = cells[i];\n        var _cell$props = cell.props,\n            fixed = _cell$props.fixed,\n            width = _cell$props.width;\n        var isFixedStart = fixed === 'left' || fixed === true;\n        var isFixedEnd = fixed === 'right';\n\n        if (rtl) {\n          isFixedStart = fixed === 'right';\n          isFixedEnd = fixed === 'left' || fixed === true;\n        }\n\n        if (isFixedStart) {\n          fixedLeftCells.push(cell);\n          fixedLeftCellGroupWidth += width;\n        } else if (isFixedEnd) {\n          fixedRightCells.push(cell);\n          fixedRightCellGroupWidth += width;\n        } else {\n          scrollCells.push(cell);\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n        \"data-depth\": depth,\n        style: rowStyles\n      }), fixedLeftCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"left\",\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedLeftCellGroupWidth,\n        style: rtl ? {\n          right: tableWidth.current - fixedLeftCellGroupWidth - rowRight\n        } : null\n      }, mergeCells(resetLeftForCells(fixedLeftCells))) : null, /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(scrollCells)), fixedRightCellGroupWidth ? /*#__PURE__*/React.createElement(CellGroup, {\n        fixed: \"right\",\n        style: rtl ? {\n          right: 0 - rowRight\n        } : {\n          left: tableWidth.current - fixedRightCellGroupWidth - SCROLLBAR_WIDTH\n        },\n        height: props.isHeaderRow ? props.headerHeight : props.height,\n        width: fixedRightCellGroupWidth + SCROLLBAR_WIDTH\n      }, mergeCells(resetLeftForCells(fixedRightCells, SCROLLBAR_WIDTH))) : null, shouldRenderExpandedRow && renderRowExpanded(rowData));\n    }\n\n    return /*#__PURE__*/React.createElement(Row, _extends({}, restRowProps, {\n      \"data-depth\": depth,\n      style: rowStyles\n    }), /*#__PURE__*/React.createElement(CellGroup, null, mergeCells(cells)), shouldRenderExpandedRow && renderRowExpanded(rowData));\n  };\n\n  var renderTableHeader = function renderTableHeader(headerCells, rowWidth) {\n    var top = typeof affixHeader === 'number' ? affixHeader : 0;\n    var rowProps = {\n      'aria-rowindex': 1,\n      rowRef: tableHeaderRef,\n      width: rowWidth,\n      height: getRowHeight(),\n      headerHeight: headerHeight,\n      isHeaderRow: true,\n      top: 0\n    };\n    var fixedStyle = {\n      position: 'fixed',\n      overflow: 'hidden',\n      height: headerHeight,\n      width: tableWidth.current,\n      top: top\n    }; // Affix header\n\n    var header = /*#__PURE__*/React.createElement(\"div\", {\n      className: prefix('affix-header'),\n      style: fixedStyle,\n      ref: affixHeaderWrapperRef\n    }, renderRow(rowProps, headerCells));\n    return /*#__PURE__*/React.createElement(React.Fragment, null, (affixHeader === 0 || affixHeader) && header, /*#__PURE__*/React.createElement(\"div\", {\n      role: \"rowgroup\",\n      className: prefix('header-row-wrapper'),\n      ref: headerWrapperRef\n    }, renderRow(rowProps, headerCells)));\n  };\n\n  var shouldRenderExpandedRow = useCallback(function (rowData) {\n    return isFunction(renderRowExpandedProp) && !isTree && expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n  }, [expandedRowKeys, isTree, renderRowExpandedProp, rowKey]);\n  var bindRowClick = useCallback(function (rowData) {\n    return function (event) {\n      onRowClick === null || onRowClick === void 0 ? void 0 : onRowClick(rowData, event);\n    };\n  }, [onRowClick]);\n  var bindRowContextMenu = useCallback(function (rowData) {\n    return function (event) {\n      onRowContextMenu === null || onRowContextMenu === void 0 ? void 0 : onRowContextMenu(rowData, event);\n    };\n  }, [onRowContextMenu]);\n  var handleTreeToggle = useCallback(function (rowKey, _rowIndex, rowData) {\n    var open = false;\n    var nextExpandedRowKeys = [];\n\n    for (var i = 0; i < expandedRowKeys.length; i++) {\n      var key = expandedRowKeys[i];\n\n      if (key === rowKey) {\n        open = true;\n      } else {\n        nextExpandedRowKeys.push(key);\n      }\n    }\n\n    if (!open) {\n      nextExpandedRowKeys.push(rowKey);\n    }\n\n    setExpandedRowKeys(nextExpandedRowKeys);\n    onExpandChange === null || onExpandChange === void 0 ? void 0 : onExpandChange(!open, rowData);\n  }, [expandedRowKeys, onExpandChange, setExpandedRowKeys]);\n\n  var renderRowData = function renderRowData(bodyCells, rowData, props, shouldRenderExpandedRow) {\n    var hasChildren = isTree && rowData.children && Array.isArray(rowData.children);\n    var nextRowKey = typeof rowData[rowKey] !== 'undefined' ? rowData[rowKey] : props.key;\n\n    var rowProps = _extends({}, props, {\n      key: nextRowKey,\n      'aria-rowindex': props.key + 2,\n      rowRef: bindTableRowsRef(props.key, rowData),\n      onClick: bindRowClick(rowData),\n      onContextMenu: bindRowContextMenu(rowData)\n    });\n\n    var expanded = expandedRowKeys.some(function (key) {\n      return key === rowData[rowKey];\n    });\n    var cells = [];\n\n    for (var i = 0; i < bodyCells.length; i++) {\n      var _cell$props2, _cell$props2$rowSpan;\n\n      var cell = bodyCells[i];\n      var rowSpan = (_cell$props2 = cell.props) === null || _cell$props2 === void 0 ? void 0 : (_cell$props2$rowSpan = _cell$props2.rowSpan) === null || _cell$props2$rowSpan === void 0 ? void 0 : _cell$props2$rowSpan.call(_cell$props2, rowData);\n\n      var _rowHeight = rowSpan ? rowSpan * props.height : props.height;\n\n      if (rowSpan) {\n        var _rowProps$style;\n\n        rowProps.rowSpan = rowSpan;\n        rowProps.style = {\n          /**\n           * In the case of multiple-column merged rows,\n           * the `zIndex` value of the previous row should be greater than the `zIndex` value of the following row.\n           * So `rowSpan` is used as the `zIndex` value.\n           */\n          zIndex: ((_rowProps$style = rowProps.style) === null || _rowProps$style === void 0 ? void 0 : _rowProps$style.zIndex) || rowSpan,\n          overflow: 'unset'\n        }; // TODO: Do not render those cells merged by `rowSpan`\n      }\n\n      cells.push( /*#__PURE__*/React.cloneElement(cell, {\n        hasChildren: hasChildren,\n        rowData: rowData,\n        wordWrap: wordWrap,\n        height: _rowHeight,\n        rowIndex: props.key,\n        depth: props.depth,\n        renderTreeToggle: renderTreeToggle,\n        onTreeToggle: handleTreeToggle,\n        rowKey: nextRowKey,\n        expanded: expanded,\n        rowSpan: rowSpan\n      }));\n    }\n\n    return renderRow(rowProps, cells, shouldRenderExpandedRow, rowData);\n  };\n\n  var renderScrollbar = function renderScrollbar() {\n    var height = getTableHeight();\n\n    if (disabledScroll) {\n      return null;\n    }\n\n    return [/*#__PURE__*/React.createElement(Scrollbar, {\n      key: \"scrollbar\",\n      tableId: id,\n      style: {\n        width: tableWidth.current\n      },\n      length: tableWidth.current,\n      onScroll: handleHorizontalScroll,\n      scrollLength: contentWidth.current,\n      ref: scrollbarXRef\n    }), /*#__PURE__*/React.createElement(Scrollbar, {\n      key: \"vertical-scrollbar\",\n      vertical: true,\n      tableId: id,\n      length: height - headerHeight,\n      scrollLength: contentHeight.current,\n      onScroll: handleVerticalScroll,\n      ref: scrollbarYRef\n    })];\n  };\n\n  var renderTableBody = function renderTableBody(bodyCells, rowWidth) {\n    var _visibleRows$current;\n\n    var height = getTableHeight();\n    var bodyHeight = height - headerHeight;\n    var bodyStyles = {\n      top: headerHeight,\n      height: bodyHeight\n    };\n    var contentHeight = 0;\n    var topHideHeight = 0;\n    var bottomHideHeight = 0;\n    visibleRows.current = [];\n\n    if (data) {\n      var top = 0; // Row position\n\n      var minTop = Math.abs(scrollY.current);\n      var maxTop = minTop + height + rowExpandedHeight;\n      var isCustomRowHeight = typeof rowHeight === 'function';\n      var isUncertainHeight = !!(renderRowExpanded || isCustomRowHeight || isTree); // If virtualized is enabled and the row height in the Table is variable,\n      // you need to loop through the data to get the height of each row.\n\n      if (isUncertainHeight && virtualized || !virtualized) {\n        for (var index = 0; index < data.length; index++) {\n          var _rowData = data[index];\n          var maxHeight = tableRowsMaxHeight[index];\n          var shouldRender = shouldRenderExpandedRow(_rowData);\n          var nextRowHeight = 0;\n          var depth = 0;\n\n          if (typeof rowHeight === 'function') {\n            nextRowHeight = rowHeight(_rowData);\n          } else {\n            nextRowHeight = maxHeight ? Math.max(maxHeight + CELL_PADDING_HEIGHT, rowHeight) : rowHeight;\n\n            if (shouldRender) {\n              nextRowHeight += rowExpandedHeight;\n            }\n          }\n\n          if (isTree) {\n            var parents = findAllParents(_rowData, rowKey);\n            depth = parents.length; // Determine whether the current line is expanded or collapsed,\n            // if it is collapsed, the line will not be displayed.\n\n            if (!shouldShowRowByExpanded(expandedRowKeys, parents)) {\n              continue;\n            }\n          }\n\n          contentHeight += nextRowHeight;\n          var rowProps = {\n            key: index,\n            top: top,\n            width: rowWidth,\n            depth: depth,\n            height: nextRowHeight\n          };\n          top += nextRowHeight;\n\n          if (virtualized && !wordWrap) {\n            if (top + nextRowHeight < minTop) {\n              topHideHeight += nextRowHeight;\n              continue;\n            } else if (top > maxTop) {\n              bottomHideHeight += nextRowHeight;\n              continue;\n            }\n          }\n\n          visibleRows.current.push(renderRowData(bodyCells, _rowData, rowProps, shouldRender));\n        }\n      } else {\n        // If the row height of the Table is fixed, it is directly calculated by the row height and the number of rows,\n        // thereby reducing the performance cost of traversing all data.\n        var _nextRowHeight = getRowHeight();\n\n        var startIndex = Math.max(Math.floor(minTop / _nextRowHeight), 0);\n        var endIndex = Math.min(startIndex + Math.ceil(bodyHeight / _nextRowHeight), data.length);\n        contentHeight = data.length * _nextRowHeight;\n        topHideHeight = startIndex * _nextRowHeight;\n        bottomHideHeight = (data.length - endIndex) * _nextRowHeight;\n\n        for (var _index = startIndex; _index < endIndex; _index++) {\n          var _rowData2 = data[_index];\n          var _rowProps = {\n            key: _index,\n            top: _index * _nextRowHeight,\n            width: rowWidth,\n            height: _nextRowHeight\n          };\n          visibleRows.current.push(renderRowData(bodyCells, _rowData2, _rowProps, false));\n        }\n      }\n    }\n\n    var wheelStyles = {\n      position: 'absolute',\n      height: contentHeight,\n      minHeight: height,\n      pointerEvents: isScrolling ? 'none' : undefined\n    };\n    var topRowStyles = {\n      height: topHideHeight\n    };\n    var bottomRowStyles = {\n      height: bottomHideHeight\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: tableBodyRef,\n      role: \"rowgroup\",\n      className: prefix('body-row-wrapper'),\n      style: bodyStyles,\n      onScroll: handleBodyScroll\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: wheelStyles,\n      className: prefix('body-wheel-area'),\n      ref: wheelWrapperRef\n    }, topHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: topRowStyles,\n      className: \"virtualized\"\n    }) : null, visibleRows.current, bottomHideHeight ? /*#__PURE__*/React.createElement(Row, {\n      style: bottomRowStyles,\n      className: \"virtualized\"\n    }) : null), /*#__PURE__*/React.createElement(EmptyMessage, {\n      locale: locale,\n      renderEmpty: renderEmpty,\n      addPrefix: prefix,\n      loading: !!((_visibleRows$current = visibleRows.current) !== null && _visibleRows$current !== void 0 && _visibleRows$current.length) || loading\n    }), renderScrollbar(), /*#__PURE__*/React.createElement(Loader, {\n      locale: locale,\n      loadAnimation: loadAnimation,\n      loading: loading,\n      addPrefix: prefix,\n      renderLoading: renderLoading\n    }));\n  };\n\n  var contextValue = React.useMemo(function () {\n    return {\n      classPrefix: withClassPrefix(),\n      translateDOMPositionXY: translateDOMPositionXY.current,\n      rtl: rtl,\n      isTree: isTree,\n      hasCustomTreeCol: hasCustomTreeCol\n    };\n  }, [hasCustomTreeCol, isTree, rtl, withClassPrefix]);\n  return /*#__PURE__*/React.createElement(TableContext.Provider, {\n    value: contextValue\n  }, /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: isTree ? 'treegrid' : 'grid' // The aria-rowcount is specified on the element with the table.\n    // Its value is an integer equal to the total number of rows available, including header rows.\n    ,\n    \"aria-rowcount\": data.length + 1,\n    \"aria-colcount\": colCounts.current\n  }, rest, {\n    className: classes,\n    style: styles,\n    ref: tableRef\n  }), showHeader && renderTableHeader(headerCells, rowWidth), children && renderTableBody(bodyCells, rowWidth), showHeader && /*#__PURE__*/React.createElement(MouseArea, {\n    ref: mouseAreaRef,\n    addPrefix: prefix,\n    headerHeight: headerHeight,\n    height: getTableHeight()\n  })));\n});\nTable.displayName = 'Table';\nTable.defaultProps = {\n  data: [],\n  defaultSortType: SORT_TYPE.DESC,\n  height: 200,\n  rowHeight: 46,\n  headerHeight: 40,\n  minHeight: 0,\n  rowExpandedHeight: 100,\n  hover: true,\n  showHeader: true,\n  rowKey: 'key',\n  translate3d: true,\n  shouldUpdateScroll: true,\n  locale: {\n    emptyMessage: 'No data found',\n    loading: 'Loading...'\n  }\n};\nTable.propTypes = {\n  autoHeight: PropTypes.bool,\n  affixHeader: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  affixHorizontalScrollbar: PropTypes.oneOfType([PropTypes.bool, PropTypes.number]),\n  bordered: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  children: PropTypes.any,\n  cellBordered: PropTypes.bool,\n  data: PropTypes.arrayOf(PropTypes.object),\n  defaultExpandAllRows: PropTypes.bool,\n  defaultExpandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  defaultSortType: PropTypes.any,\n  disabledScroll: PropTypes.bool,\n  expandedRowKeys: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.number])),\n  hover: PropTypes.bool,\n  height: PropTypes.number,\n  headerHeight: PropTypes.number,\n  locale: PropTypes.object,\n  loading: PropTypes.bool,\n  loadAnimation: PropTypes.bool,\n  minHeight: PropTypes.number,\n  rowKey: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  rowHeight: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  renderTreeToggle: PropTypes.func,\n  renderRowExpanded: PropTypes.func,\n  rowExpandedHeight: PropTypes.number,\n  renderEmpty: PropTypes.func,\n  renderLoading: PropTypes.func,\n  rowClassName: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n  rtl: PropTypes.bool,\n  style: PropTypes.object,\n  sortColumn: PropTypes.string,\n  sortType: PropTypes.any,\n  showHeader: PropTypes.bool,\n  shouldUpdateScroll: PropTypes.bool,\n  translate3d: PropTypes.bool,\n  wordWrap: PropTypes.bool,\n  width: PropTypes.number,\n  virtualized: PropTypes.bool,\n  isTree: PropTypes.bool,\n  onRowClick: PropTypes.func,\n  onRowContextMenu: PropTypes.func,\n  onScroll: PropTypes.func,\n  onSortColumn: PropTypes.func,\n  onExpandChange: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func\n};\nexport default Table;"]},"metadata":{},"sourceType":"module"}