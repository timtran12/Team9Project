{"ast":null,"code":"import { useEffect, useCallback } from 'react';\nimport helper from '../DOMHelper';\nimport { getDOMNode, KEY_VALUES } from './';\n\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event !== null && event !== void 0 && event.shiftKey);\n}\n/**\n * A hook that listens to the document click event and closes the overlay.\n * @param onRootClose\n * @param param1\n * @todo Allow different behaviors based on whether clicked element is focusable\n */\n\n\nfunction useRootClose(onRootClose, _ref) {\n  var disabled = _ref.disabled,\n      triggerTarget = _ref.triggerTarget,\n      overlayTarget = _ref.overlayTarget,\n      _ref$listenEscape = _ref.listenEscape,\n      listenEscape = _ref$listenEscape === void 0 ? true : _ref$listenEscape;\n  var handleDocumentKeyUp = useCallback(function (event) {\n    if (listenEscape && event.key === KEY_VALUES.ESC) {\n      onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n    }\n  }, [listenEscape, onRootClose]);\n  var handleDocumentMouseDown = useCallback(function (event) {\n    var triggerElement = getDOMNode(triggerTarget);\n    var overlayElement = getDOMNode(overlayTarget); // Check if the clicked element is a trigger.\n\n    if (triggerElement && helper.contains(triggerElement, event.target)) {\n      return;\n    } // Check if the clicked element is a overlay.\n\n\n    if (overlayElement && helper.contains(overlayElement, event.target)) {\n      return;\n    }\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n\n    onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n  }, [onRootClose, triggerTarget, overlayTarget]);\n  useEffect(function () {\n    var currentTarget = getDOMNode(triggerTarget);\n    if (disabled || !currentTarget) return;\n    var doc = helper.ownerDocument(currentTarget);\n    var onDocumentMouseDownListener = helper.on(doc, 'mousedown', handleDocumentMouseDown, true);\n    var onDocumentKeyupListener = helper.on(doc, 'keyup', handleDocumentKeyUp);\n    return function () {\n      onDocumentMouseDownListener === null || onDocumentMouseDownListener === void 0 ? void 0 : onDocumentMouseDownListener.off();\n      onDocumentKeyupListener === null || onDocumentKeyupListener === void 0 ? void 0 : onDocumentKeyupListener.off();\n    };\n  }, [triggerTarget, disabled, onRootClose, handleDocumentMouseDown, handleDocumentKeyUp]);\n}\n\nexport default useRootClose;","map":{"version":3,"sources":["/mnt/c/Users/moham/documents/CSE 3311/Team9Project/node_modules/rsuite/esm/utils/useRootClose.js"],"names":["useEffect","useCallback","helper","getDOMNode","KEY_VALUES","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","useRootClose","onRootClose","_ref","disabled","triggerTarget","overlayTarget","_ref$listenEscape","listenEscape","handleDocumentKeyUp","key","ESC","handleDocumentMouseDown","triggerElement","overlayElement","contains","target","currentTarget","doc","ownerDocument","onDocumentMouseDownListener","on","onDocumentKeyupListener","off"],"mappings":"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","sourcesContent":["import { useEffect, useCallback } from 'react';\nimport helper from '../DOMHelper';\nimport { getDOMNode, KEY_VALUES } from './';\n\nfunction isLeftClickEvent(event) {\n  return (event === null || event === void 0 ? void 0 : event.button) === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event !== null && event !== void 0 && event.shiftKey);\n}\n\n/**\n * A hook that listens to the document click event and closes the overlay.\n * @param onRootClose\n * @param param1\n * @todo Allow different behaviors based on whether clicked element is focusable\n */\nfunction useRootClose(onRootClose, _ref) {\n  var disabled = _ref.disabled,\n      triggerTarget = _ref.triggerTarget,\n      overlayTarget = _ref.overlayTarget,\n      _ref$listenEscape = _ref.listenEscape,\n      listenEscape = _ref$listenEscape === void 0 ? true : _ref$listenEscape;\n  var handleDocumentKeyUp = useCallback(function (event) {\n    if (listenEscape && event.key === KEY_VALUES.ESC) {\n      onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n    }\n  }, [listenEscape, onRootClose]);\n  var handleDocumentMouseDown = useCallback(function (event) {\n    var triggerElement = getDOMNode(triggerTarget);\n    var overlayElement = getDOMNode(overlayTarget); // Check if the clicked element is a trigger.\n\n    if (triggerElement && helper.contains(triggerElement, event.target)) {\n      return;\n    } // Check if the clicked element is a overlay.\n\n\n    if (overlayElement && helper.contains(overlayElement, event.target)) {\n      return;\n    }\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) {\n      return;\n    }\n\n    onRootClose === null || onRootClose === void 0 ? void 0 : onRootClose(event);\n  }, [onRootClose, triggerTarget, overlayTarget]);\n  useEffect(function () {\n    var currentTarget = getDOMNode(triggerTarget);\n    if (disabled || !currentTarget) return;\n    var doc = helper.ownerDocument(currentTarget);\n    var onDocumentMouseDownListener = helper.on(doc, 'mousedown', handleDocumentMouseDown, true);\n    var onDocumentKeyupListener = helper.on(doc, 'keyup', handleDocumentKeyUp);\n    return function () {\n      onDocumentMouseDownListener === null || onDocumentMouseDownListener === void 0 ? void 0 : onDocumentMouseDownListener.off();\n      onDocumentKeyupListener === null || onDocumentKeyupListener === void 0 ? void 0 : onDocumentKeyupListener.off();\n    };\n  }, [triggerTarget, disabled, onRootClose, handleDocumentMouseDown, handleDocumentKeyUp]);\n}\n\nexport default useRootClose;"]},"metadata":{},"sourceType":"module"}