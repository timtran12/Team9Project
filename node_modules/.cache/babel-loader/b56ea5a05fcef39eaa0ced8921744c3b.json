{"ast":null,"code":"import { useCallback } from 'react';\nimport { addStyle } from 'dom-lib';\nimport { SCROLLBAR_WIDTH } from '../constants';\nimport toggleClass from './toggleClass';\nimport useUpdateEffect from './useUpdateEffect';\n/**\n * Update the position of the table according to the scrolling information of the table.\n * @param props\n * @returns\n */\n\nvar usePosition = function usePosition(props) {\n  var data = props.data,\n      height = props.height,\n      tableWidth = props.tableWidth,\n      tableRef = props.tableRef,\n      prefix = props.prefix,\n      translateDOMPositionXY = props.translateDOMPositionXY,\n      wheelWrapperRef = props.wheelWrapperRef,\n      headerWrapperRef = props.headerWrapperRef,\n      affixHeaderWrapperRef = props.affixHeaderWrapperRef,\n      tableHeaderRef = props.tableHeaderRef,\n      scrollX = props.scrollX,\n      scrollY = props.scrollY,\n      contentWidth = props.contentWidth,\n      shouldFixedColumn = props.shouldFixedColumn;\n  var getScrollCellGroups = useCallback(function () {\n    var _tableRef$current;\n\n    return (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.querySelectorAll(\".\" + prefix('cell-group-scroll'));\n  }, [prefix, tableRef]);\n  var getFixedLeftCellGroups = useCallback(function () {\n    var _tableRef$current2;\n\n    return (_tableRef$current2 = tableRef.current) === null || _tableRef$current2 === void 0 ? void 0 : _tableRef$current2.querySelectorAll(\".\" + prefix('cell-group-fixed-left'));\n  }, [prefix, tableRef]);\n  var getFixedRightCellGroups = useCallback(function () {\n    var _tableRef$current3;\n\n    return (_tableRef$current3 = tableRef.current) === null || _tableRef$current3 === void 0 ? void 0 : _tableRef$current3.querySelectorAll(\".\" + prefix('cell-group-fixed-right'));\n  }, [prefix, tableRef]);\n  var updatePositionByFixedCell = useCallback(function () {\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = getScrollCellGroups();\n    var fixedLeftGroups = getFixedLeftCellGroups();\n    var fixedRightGroups = getFixedRightCellGroups();\n    translateDOMPositionXY.current(wheelGroupStyle, scrollX.current, 0);\n    translateDOMPositionXY.current(wheelStyle, 0, scrollY.current);\n    var scrollArrayGroups = Array.from(scrollGroups);\n\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n\n    if (wheelWrapperRef !== null && wheelWrapperRef !== void 0 && wheelWrapperRef.current) {\n      addStyle(wheelWrapperRef.current, wheelStyle);\n    }\n\n    var leftShadowClassName = prefix('cell-group-left-shadow');\n    var rightShadowClassName = prefix('cell-group-right-shadow');\n    var showLeftShadow = scrollX.current < 0;\n    var showRightShadow = tableWidth.current - contentWidth.current - SCROLLBAR_WIDTH !== scrollX.current;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  }, [contentWidth, getFixedLeftCellGroups, getFixedRightCellGroups, getScrollCellGroups, prefix, scrollX, scrollY, tableWidth, translateDOMPositionXY, wheelWrapperRef]);\n  var updatePosition = useCallback(function () {\n    // When there are fixed columns.\n    if (shouldFixedColumn) {\n      updatePositionByFixedCell();\n    } else {\n      var _affixHeaderElement$h;\n\n      var wheelStyle = {};\n      var headerStyle = {};\n      translateDOMPositionXY.current(wheelStyle, scrollX.current, scrollY.current);\n      translateDOMPositionXY.current(headerStyle, scrollX.current, 0);\n      var wheelElement = wheelWrapperRef === null || wheelWrapperRef === void 0 ? void 0 : wheelWrapperRef.current;\n      var headerElement = headerWrapperRef === null || headerWrapperRef === void 0 ? void 0 : headerWrapperRef.current;\n      var affixHeaderElement = affixHeaderWrapperRef === null || affixHeaderWrapperRef === void 0 ? void 0 : affixHeaderWrapperRef.current;\n      wheelElement && addStyle(wheelElement, wheelStyle);\n      headerElement && addStyle(headerElement, headerStyle);\n\n      if (affixHeaderElement !== null && affixHeaderElement !== void 0 && (_affixHeaderElement$h = affixHeaderElement.hasChildNodes) !== null && _affixHeaderElement$h !== void 0 && _affixHeaderElement$h.call(affixHeaderElement)) {\n        addStyle(affixHeaderElement === null || affixHeaderElement === void 0 ? void 0 : affixHeaderElement.firstChild, headerStyle);\n      }\n    }\n\n    if (tableHeaderRef !== null && tableHeaderRef !== void 0 && tableHeaderRef.current) {\n      toggleClass(tableHeaderRef.current, prefix('cell-group-shadow'), scrollY.current < 0);\n    }\n  }, [affixHeaderWrapperRef, headerWrapperRef, prefix, scrollX, scrollY, shouldFixedColumn, tableHeaderRef, translateDOMPositionXY, updatePositionByFixedCell, wheelWrapperRef]);\n  useUpdateEffect(function () {\n    if (scrollY.current !== 0) {\n      updatePosition();\n    }\n  }, [height, data]);\n  return {\n    forceUpdatePosition: updatePosition\n  };\n};\n\nexport default usePosition;","map":{"version":3,"sources":["/mnt/c/Users/moham/documents/CSE 3311/Team9Project/node_modules/rsuite-table/es/utils/usePosition.js"],"names":["useCallback","addStyle","SCROLLBAR_WIDTH","toggleClass","useUpdateEffect","usePosition","props","data","height","tableWidth","tableRef","prefix","translateDOMPositionXY","wheelWrapperRef","headerWrapperRef","affixHeaderWrapperRef","tableHeaderRef","scrollX","scrollY","contentWidth","shouldFixedColumn","getScrollCellGroups","_tableRef$current","current","querySelectorAll","getFixedLeftCellGroups","_tableRef$current2","getFixedRightCellGroups","_tableRef$current3","updatePositionByFixedCell","wheelGroupStyle","wheelStyle","scrollGroups","fixedLeftGroups","fixedRightGroups","scrollArrayGroups","Array","from","i","length","group","leftShadowClassName","rightShadowClassName","showLeftShadow","showRightShadow","updatePosition","_affixHeaderElement$h","headerStyle","wheelElement","headerElement","affixHeaderElement","hasChildNodes","call","firstChild","forceUpdatePosition"],"mappings":"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","sourcesContent":["import { useCallback } from 'react';\nimport { addStyle } from 'dom-lib';\nimport { SCROLLBAR_WIDTH } from '../constants';\nimport toggleClass from './toggleClass';\nimport useUpdateEffect from './useUpdateEffect';\n\n/**\n * Update the position of the table according to the scrolling information of the table.\n * @param props\n * @returns\n */\nvar usePosition = function usePosition(props) {\n  var data = props.data,\n      height = props.height,\n      tableWidth = props.tableWidth,\n      tableRef = props.tableRef,\n      prefix = props.prefix,\n      translateDOMPositionXY = props.translateDOMPositionXY,\n      wheelWrapperRef = props.wheelWrapperRef,\n      headerWrapperRef = props.headerWrapperRef,\n      affixHeaderWrapperRef = props.affixHeaderWrapperRef,\n      tableHeaderRef = props.tableHeaderRef,\n      scrollX = props.scrollX,\n      scrollY = props.scrollY,\n      contentWidth = props.contentWidth,\n      shouldFixedColumn = props.shouldFixedColumn;\n  var getScrollCellGroups = useCallback(function () {\n    var _tableRef$current;\n\n    return (_tableRef$current = tableRef.current) === null || _tableRef$current === void 0 ? void 0 : _tableRef$current.querySelectorAll(\".\" + prefix('cell-group-scroll'));\n  }, [prefix, tableRef]);\n  var getFixedLeftCellGroups = useCallback(function () {\n    var _tableRef$current2;\n\n    return (_tableRef$current2 = tableRef.current) === null || _tableRef$current2 === void 0 ? void 0 : _tableRef$current2.querySelectorAll(\".\" + prefix('cell-group-fixed-left'));\n  }, [prefix, tableRef]);\n  var getFixedRightCellGroups = useCallback(function () {\n    var _tableRef$current3;\n\n    return (_tableRef$current3 = tableRef.current) === null || _tableRef$current3 === void 0 ? void 0 : _tableRef$current3.querySelectorAll(\".\" + prefix('cell-group-fixed-right'));\n  }, [prefix, tableRef]);\n  var updatePositionByFixedCell = useCallback(function () {\n    var wheelGroupStyle = {};\n    var wheelStyle = {};\n    var scrollGroups = getScrollCellGroups();\n    var fixedLeftGroups = getFixedLeftCellGroups();\n    var fixedRightGroups = getFixedRightCellGroups();\n    translateDOMPositionXY.current(wheelGroupStyle, scrollX.current, 0);\n    translateDOMPositionXY.current(wheelStyle, 0, scrollY.current);\n    var scrollArrayGroups = Array.from(scrollGroups);\n\n    for (var i = 0; i < scrollArrayGroups.length; i++) {\n      var group = scrollArrayGroups[i];\n      addStyle(group, wheelGroupStyle);\n    }\n\n    if (wheelWrapperRef !== null && wheelWrapperRef !== void 0 && wheelWrapperRef.current) {\n      addStyle(wheelWrapperRef.current, wheelStyle);\n    }\n\n    var leftShadowClassName = prefix('cell-group-left-shadow');\n    var rightShadowClassName = prefix('cell-group-right-shadow');\n    var showLeftShadow = scrollX.current < 0;\n    var showRightShadow = tableWidth.current - contentWidth.current - SCROLLBAR_WIDTH !== scrollX.current;\n    toggleClass(fixedLeftGroups, leftShadowClassName, showLeftShadow);\n    toggleClass(fixedRightGroups, rightShadowClassName, showRightShadow);\n  }, [contentWidth, getFixedLeftCellGroups, getFixedRightCellGroups, getScrollCellGroups, prefix, scrollX, scrollY, tableWidth, translateDOMPositionXY, wheelWrapperRef]);\n  var updatePosition = useCallback(function () {\n    // When there are fixed columns.\n    if (shouldFixedColumn) {\n      updatePositionByFixedCell();\n    } else {\n      var _affixHeaderElement$h;\n\n      var wheelStyle = {};\n      var headerStyle = {};\n      translateDOMPositionXY.current(wheelStyle, scrollX.current, scrollY.current);\n      translateDOMPositionXY.current(headerStyle, scrollX.current, 0);\n      var wheelElement = wheelWrapperRef === null || wheelWrapperRef === void 0 ? void 0 : wheelWrapperRef.current;\n      var headerElement = headerWrapperRef === null || headerWrapperRef === void 0 ? void 0 : headerWrapperRef.current;\n      var affixHeaderElement = affixHeaderWrapperRef === null || affixHeaderWrapperRef === void 0 ? void 0 : affixHeaderWrapperRef.current;\n      wheelElement && addStyle(wheelElement, wheelStyle);\n      headerElement && addStyle(headerElement, headerStyle);\n\n      if (affixHeaderElement !== null && affixHeaderElement !== void 0 && (_affixHeaderElement$h = affixHeaderElement.hasChildNodes) !== null && _affixHeaderElement$h !== void 0 && _affixHeaderElement$h.call(affixHeaderElement)) {\n        addStyle(affixHeaderElement === null || affixHeaderElement === void 0 ? void 0 : affixHeaderElement.firstChild, headerStyle);\n      }\n    }\n\n    if (tableHeaderRef !== null && tableHeaderRef !== void 0 && tableHeaderRef.current) {\n      toggleClass(tableHeaderRef.current, prefix('cell-group-shadow'), scrollY.current < 0);\n    }\n  }, [affixHeaderWrapperRef, headerWrapperRef, prefix, scrollX, scrollY, shouldFixedColumn, tableHeaderRef, translateDOMPositionXY, updatePositionByFixedCell, wheelWrapperRef]);\n  useUpdateEffect(function () {\n    if (scrollY.current !== 0) {\n      updatePosition();\n    }\n  }, [height, data]);\n  return {\n    forceUpdatePosition: updatePosition\n  };\n};\n\nexport default usePosition;"]},"metadata":{},"sourceType":"module"}