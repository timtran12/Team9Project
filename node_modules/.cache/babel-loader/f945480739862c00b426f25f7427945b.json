{"ast":null,"code":"import { useRef, useCallback, useState, useEffect } from 'react';\nimport { WheelHandler, scrollLeft, scrollTop, on } from 'dom-lib';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from './requestAnimationTimeout';\nimport useUpdateEffect from './useUpdateEffect';\nimport useMount from './useMount';\nimport { SCROLLBAR_WIDTH } from '../constants';\n/**\n * Add scroll, touch, and wheel monitoring events to the table,\n * and update the scroll position of the table.\n * @param props\n * @returns\n */\n\nvar useScrollListener = function useScrollListener(props) {\n  var data = props.data,\n      children = props.children,\n      autoHeight = props.autoHeight,\n      tableBodyRef = props.tableBodyRef,\n      scrollbarXRef = props.scrollbarXRef,\n      scrollbarYRef = props.scrollbarYRef,\n      disabledScroll = props.disabledScroll,\n      loading = props.loading,\n      tableRef = props.tableRef,\n      contentWidth = props.contentWidth,\n      tableWidth = props.tableWidth,\n      scrollY = props.scrollY,\n      minScrollY = props.minScrollY,\n      minScrollX = props.minScrollX,\n      scrollX = props.scrollX,\n      setScrollX = props.setScrollX,\n      setScrollY = props.setScrollY,\n      virtualized = props.virtualized,\n      forceUpdatePosition = props.forceUpdatePosition,\n      onScroll = props.onScroll,\n      onTouchMove = props.onTouchMove,\n      onTouchStart = props.onTouchStart,\n      height = props.height,\n      getTableHeight = props.getTableHeight,\n      contentHeight = props.contentHeight,\n      headerHeight = props.headerHeight,\n      rtl = props.rtl;\n  var wheelListener = useRef();\n  var touchStartListener = useRef();\n  var touchMoveListener = useRef();\n\n  var _useState = useState(false),\n      isScrolling = _useState[0],\n      setScrolling = _useState[1];\n\n  var touchX = useRef(0);\n  var touchY = useRef(0);\n  var disableEventsTimeoutId = useRef(null);\n  var shouldHandleWheelX = useCallback(function (delta) {\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n\n    return true;\n  }, [disabledScroll, loading]);\n  var shouldHandleWheelY = useCallback(function (delta) {\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n\n    return delta >= 0 && scrollY.current > minScrollY.current || delta < 0 && scrollY.current < 0;\n  }, [disabledScroll, loading, minScrollY, scrollY]);\n  var debounceScrollEndedCallback = useCallback(function () {\n    disableEventsTimeoutId.current = null;\n    setScrolling(false);\n  }, []);\n  var handleWheel = useCallback(function (deltaX, deltaY) {\n    if (!tableRef.current) {\n      return;\n    }\n\n    var nextScrollX = contentWidth.current <= tableWidth.current ? 0 : scrollX.current - deltaX;\n    var nextScrollY = scrollY.current - deltaY;\n    var y = Math.min(0, nextScrollY < minScrollY.current ? minScrollY.current : nextScrollY);\n    var x = Math.min(0, nextScrollX < minScrollX.current ? minScrollX.current : nextScrollX);\n    setScrollX(x);\n    setScrollY(y);\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(Math.abs(x), Math.abs(y));\n    forceUpdatePosition();\n\n    if (virtualized) {\n      setScrolling(true);\n\n      if (disableEventsTimeoutId.current) {\n        cancelAnimationTimeout(disableEventsTimeoutId.current);\n      }\n\n      disableEventsTimeoutId.current = requestAnimationTimeout(debounceScrollEndedCallback, 0);\n    }\n  }, [contentWidth, debounceScrollEndedCallback, minScrollX, minScrollY, onScroll, scrollX, scrollY, setScrollX, setScrollY, tableRef, tableWidth, forceUpdatePosition, virtualized]);\n  var listenWheel = useCallback(function (deltaX, deltaY) {\n    var _scrollbarXRef$curren, _scrollbarXRef$curren2, _scrollbarYRef$curren, _scrollbarYRef$curren2;\n\n    handleWheel(deltaX, deltaY);\n    (_scrollbarXRef$curren = scrollbarXRef.current) === null || _scrollbarXRef$curren === void 0 ? void 0 : (_scrollbarXRef$curren2 = _scrollbarXRef$curren.onWheelScroll) === null || _scrollbarXRef$curren2 === void 0 ? void 0 : _scrollbarXRef$curren2.call(_scrollbarXRef$curren, deltaX);\n    (_scrollbarYRef$curren = scrollbarYRef.current) === null || _scrollbarYRef$curren === void 0 ? void 0 : (_scrollbarYRef$curren2 = _scrollbarYRef$curren.onWheelScroll) === null || _scrollbarYRef$curren2 === void 0 ? void 0 : _scrollbarYRef$curren2.call(_scrollbarYRef$curren, deltaY);\n  }, [handleWheel, scrollbarXRef, scrollbarYRef]);\n  var wheelHandler = useRef(); // When handling the Touch event on the mobile terminal, initialize x and y when Start.\n\n  var handleTouchStart = useCallback(function (event) {\n    if (event.touches) {\n      var _event$touches$ = event.touches[0],\n          pageX = _event$touches$.pageX,\n          pageY = _event$touches$.pageY;\n      touchX.current = pageX;\n      touchY.current = pageY;\n    }\n\n    onTouchStart === null || onTouchStart === void 0 ? void 0 : onTouchStart(event);\n  }, [onTouchStart]); // Handle Touch events on the mobile terminal, initialize when Move, and update the scroll bar.\n\n  var handleTouchMove = useCallback(function (event) {\n    if (event.touches) {\n      var _event$preventDefault, _scrollbarXRef$curren3, _scrollbarXRef$curren4, _scrollbarYRef$curren3, _scrollbarYRef$curren4;\n\n      var _event$touches$2 = event.touches[0],\n          pageX = _event$touches$2.pageX,\n          pageY = _event$touches$2.pageY;\n      var deltaX = touchX.current - pageX;\n      var deltaY = autoHeight ? 0 : touchY.current - pageY;\n\n      if (!shouldHandleWheelY(deltaY) && !shouldHandleWheelX(deltaX)) {\n        return;\n      }\n\n      (_event$preventDefault = event.preventDefault) === null || _event$preventDefault === void 0 ? void 0 : _event$preventDefault.call(event);\n      handleWheel(deltaX, deltaY);\n      (_scrollbarXRef$curren3 = scrollbarXRef.current) === null || _scrollbarXRef$curren3 === void 0 ? void 0 : (_scrollbarXRef$curren4 = _scrollbarXRef$curren3.onWheelScroll) === null || _scrollbarXRef$curren4 === void 0 ? void 0 : _scrollbarXRef$curren4.call(_scrollbarXRef$curren3, deltaX);\n      (_scrollbarYRef$curren3 = scrollbarYRef.current) === null || _scrollbarYRef$curren3 === void 0 ? void 0 : (_scrollbarYRef$curren4 = _scrollbarYRef$curren3.onWheelScroll) === null || _scrollbarYRef$curren4 === void 0 ? void 0 : _scrollbarYRef$curren4.call(_scrollbarYRef$curren3, deltaY);\n      touchX.current = pageX;\n      touchY.current = pageY;\n    }\n\n    onTouchMove === null || onTouchMove === void 0 ? void 0 : onTouchMove(event);\n  }, [autoHeight, handleWheel, onTouchMove, scrollbarXRef, scrollbarYRef, shouldHandleWheelX, shouldHandleWheelY]);\n  var handleHorizontalScroll = useCallback(function (delta) {\n    handleWheel(delta, 0);\n  }, [handleWheel]);\n  var handleVerticalScroll = useCallback(function (delta) {\n    handleWheel(0, delta);\n  }, [handleWheel]);\n  /**\n   * When the user uses the tab key in the Table, the onScroll event is triggered,\n   * and the scroll bar position should be updated at the same time.\n   * https://github.com/rsuite/rsuite/issues/234\n   */\n\n  var handleBodyScroll = useCallback(function (event) {\n    if (event.target !== tableBodyRef.current) {\n      return;\n    }\n\n    var left = scrollLeft(event.target);\n    var top = scrollTop(event.target);\n\n    if (top === 0 && left === 0) {\n      return;\n    }\n\n    listenWheel(left, top);\n    scrollLeft(event.target, 0);\n    scrollTop(event.target, 0);\n  }, [listenWheel, tableBodyRef]);\n  var getControlledScrollTopValue = useCallback(function (value) {\n    if (autoHeight) {\n      return [0, 0];\n    }\n\n    var height = getTableHeight(); // The maximum range of scrolling value is judged.\n\n    value = Math.min(value, Math.max(0, contentHeight.current - (height - headerHeight))); // The value is a value of the theoretical scroll position of the table,\n    // and the scrollY coordinate value and the value of the scroll bar position are calculated by value.\n\n    return [-value, value / contentHeight.current * (height - headerHeight)];\n  }, [autoHeight, contentHeight, getTableHeight, headerHeight]);\n\n  var rerender = function rerender() {\n    setScrolling(true);\n    setTimeout(function () {\n      return setScrolling(false);\n    }, 0);\n  };\n\n  var getControlledScrollLeftValue = function getControlledScrollLeftValue(value) {\n    // The maximum range of scrolling value is judged.\n    value = Math.min(value, Math.max(0, contentWidth.current - tableWidth.current));\n    return [-value, value / contentWidth.current * tableWidth.current];\n  };\n\n  var handleScrollTop = function handleScrollTop(top) {\n    var _scrollbarYRef$curren5, _scrollbarYRef$curren6;\n\n    if (top === void 0) {\n      top = 0;\n    }\n\n    var _getControlledScrollT = getControlledScrollTopValue(top),\n        nextScrollY = _getControlledScrollT[0],\n        handleScrollY = _getControlledScrollT[1];\n\n    setScrollY(nextScrollY);\n    scrollbarYRef === null || scrollbarYRef === void 0 ? void 0 : (_scrollbarYRef$curren5 = scrollbarYRef.current) === null || _scrollbarYRef$curren5 === void 0 ? void 0 : (_scrollbarYRef$curren6 = _scrollbarYRef$curren5.resetScrollBarPosition) === null || _scrollbarYRef$curren6 === void 0 ? void 0 : _scrollbarYRef$curren6.call(_scrollbarYRef$curren5, handleScrollY);\n    forceUpdatePosition();\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(Math.abs(scrollX.current), Math.abs(nextScrollY));\n    /**\n     * After calling `scrollTop`, a white screen will appear when `virtualized` is true.\n     * The reason is that the coordinates of the DOM are directly manipulated,\n     * but the component is not re-rendered. Need to call `rerender`.\n     * Fix: rsuite#1044\n     */\n\n    if (virtualized && contentHeight.current > height) {\n      rerender();\n    }\n  };\n\n  var handleScrollLeft = function handleScrollLeft(left) {\n    var _scrollbarXRef$curren5, _scrollbarXRef$curren6;\n\n    if (left === void 0) {\n      left = 0;\n    }\n\n    var _getControlledScrollL = getControlledScrollLeftValue(left),\n        nextScrollX = _getControlledScrollL[0],\n        scrollbarX = _getControlledScrollL[1];\n\n    setScrollX(nextScrollX);\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(Math.abs(nextScrollX), Math.abs(scrollY.current));\n    scrollbarXRef === null || scrollbarXRef === void 0 ? void 0 : (_scrollbarXRef$curren5 = scrollbarXRef.current) === null || _scrollbarXRef$curren5 === void 0 ? void 0 : (_scrollbarXRef$curren6 = _scrollbarXRef$curren5.resetScrollBarPosition) === null || _scrollbarXRef$curren6 === void 0 ? void 0 : _scrollbarXRef$curren6.call(_scrollbarXRef$curren5, scrollbarX);\n    forceUpdatePosition();\n  };\n\n  var handleScrollTo = function handleScrollTo(coord) {\n    var _ref = coord || {},\n        x = _ref.x,\n        y = _ref.y;\n\n    if (typeof x === 'number') {\n      handleScrollLeft(x);\n    }\n\n    if (typeof y === 'number') {\n      handleScrollTop(y);\n    }\n  };\n\n  useUpdateEffect(function () {\n    handleScrollLeft(0);\n  }, [children, contentWidth.current]);\n  useUpdateEffect(function () {\n    if (scrollY.current !== 0) {\n      handleScrollTop(Math.abs(scrollY.current));\n    }\n  }, [height, data]);\n  useEffect(function () {\n    var options = {\n      passive: false\n    };\n    var tableBody = tableBodyRef.current;\n\n    if (tableBody) {\n      wheelHandler.current = new WheelHandler(listenWheel, shouldHandleWheelX, shouldHandleWheelY, false);\n      wheelListener.current = on(tableBody, 'wheel', wheelHandler.current.onWheel, options);\n      touchStartListener.current = on(tableBody, 'touchstart', handleTouchStart, options);\n      touchMoveListener.current = on(tableBody, 'touchmove', handleTouchMove, options);\n    }\n\n    return function () {\n      var _wheelListener$curren, _touchStartListener$c, _touchMoveListener$cu;\n\n      wheelHandler.current = null;\n      (_wheelListener$curren = wheelListener.current) === null || _wheelListener$curren === void 0 ? void 0 : _wheelListener$curren.off();\n      (_touchStartListener$c = touchStartListener.current) === null || _touchStartListener$c === void 0 ? void 0 : _touchStartListener$c.off();\n      (_touchMoveListener$cu = touchMoveListener.current) === null || _touchMoveListener$cu === void 0 ? void 0 : _touchMoveListener$cu.off();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n  useMount(function () {\n    if (rtl) {\n      var _scrollbarXRef$curren7, _scrollbarXRef$curren8; // Initialize scroll position\n\n\n      setScrollX(tableWidth.current - contentWidth.current - SCROLLBAR_WIDTH);\n      scrollbarXRef === null || scrollbarXRef === void 0 ? void 0 : (_scrollbarXRef$curren7 = scrollbarXRef.current) === null || _scrollbarXRef$curren7 === void 0 ? void 0 : (_scrollbarXRef$curren8 = _scrollbarXRef$curren7.resetScrollBarPosition) === null || _scrollbarXRef$curren8 === void 0 ? void 0 : _scrollbarXRef$curren8.call(_scrollbarXRef$curren7, -scrollX.current);\n      forceUpdatePosition();\n    }\n  });\n  return {\n    isScrolling: isScrolling,\n    handleHorizontalScroll: handleHorizontalScroll,\n    handleVerticalScroll: handleVerticalScroll,\n    handleBodyScroll: handleBodyScroll,\n    handleScrollTop: handleScrollTop,\n    handleScrollLeft: handleScrollLeft,\n    handleScrollTo: handleScrollTo\n  };\n};\n\nexport default useScrollListener;","map":{"version":3,"sources":["/mnt/c/Users/moham/documents/CSE 3311/Team9Project/node_modules/rsuite-table/es/utils/useScrollListener.js"],"names":["useRef","useCallback","useState","useEffect","WheelHandler","scrollLeft","scrollTop","on","requestAnimationTimeout","cancelAnimationTimeout","useUpdateEffect","useMount","SCROLLBAR_WIDTH","useScrollListener","props","data","children","autoHeight","tableBodyRef","scrollbarXRef","scrollbarYRef","disabledScroll","loading","tableRef","contentWidth","tableWidth","scrollY","minScrollY","minScrollX","scrollX","setScrollX","setScrollY","virtualized","forceUpdatePosition","onScroll","onTouchMove","onTouchStart","height","getTableHeight","contentHeight","headerHeight","rtl","wheelListener","touchStartListener","touchMoveListener","_useState","isScrolling","setScrolling","touchX","touchY","disableEventsTimeoutId","shouldHandleWheelX","delta","shouldHandleWheelY","current","debounceScrollEndedCallback","handleWheel","deltaX","deltaY","nextScrollX","nextScrollY","y","Math","min","x","abs","listenWheel","_scrollbarXRef$curren","_scrollbarXRef$curren2","_scrollbarYRef$curren","_scrollbarYRef$curren2","onWheelScroll","call","wheelHandler","handleTouchStart","event","touches","_event$touches$","pageX","pageY","handleTouchMove","_event$preventDefault","_scrollbarXRef$curren3","_scrollbarXRef$curren4","_scrollbarYRef$curren3","_scrollbarYRef$curren4","_event$touches$2","preventDefault","handleHorizontalScroll","handleVerticalScroll","handleBodyScroll","target","left","top","getControlledScrollTopValue","value","max","rerender","setTimeout","getControlledScrollLeftValue","handleScrollTop","_scrollbarYRef$curren5","_scrollbarYRef$curren6","_getControlledScrollT","handleScrollY","resetScrollBarPosition","handleScrollLeft","_scrollbarXRef$curren5","_scrollbarXRef$curren6","_getControlledScrollL","scrollbarX","handleScrollTo","coord","_ref","options","passive","tableBody","onWheel","_wheelListener$curren","_touchStartListener$c","_touchMoveListener$cu","off","_scrollbarXRef$curren7","_scrollbarXRef$curren8"],"mappings":"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","sourcesContent":["import { useRef, useCallback, useState, useEffect } from 'react';\nimport { WheelHandler, scrollLeft, scrollTop, on } from 'dom-lib';\nimport { requestAnimationTimeout, cancelAnimationTimeout } from './requestAnimationTimeout';\nimport useUpdateEffect from './useUpdateEffect';\nimport useMount from './useMount';\nimport { SCROLLBAR_WIDTH } from '../constants';\n\n/**\n * Add scroll, touch, and wheel monitoring events to the table,\n * and update the scroll position of the table.\n * @param props\n * @returns\n */\nvar useScrollListener = function useScrollListener(props) {\n  var data = props.data,\n      children = props.children,\n      autoHeight = props.autoHeight,\n      tableBodyRef = props.tableBodyRef,\n      scrollbarXRef = props.scrollbarXRef,\n      scrollbarYRef = props.scrollbarYRef,\n      disabledScroll = props.disabledScroll,\n      loading = props.loading,\n      tableRef = props.tableRef,\n      contentWidth = props.contentWidth,\n      tableWidth = props.tableWidth,\n      scrollY = props.scrollY,\n      minScrollY = props.minScrollY,\n      minScrollX = props.minScrollX,\n      scrollX = props.scrollX,\n      setScrollX = props.setScrollX,\n      setScrollY = props.setScrollY,\n      virtualized = props.virtualized,\n      forceUpdatePosition = props.forceUpdatePosition,\n      onScroll = props.onScroll,\n      onTouchMove = props.onTouchMove,\n      onTouchStart = props.onTouchStart,\n      height = props.height,\n      getTableHeight = props.getTableHeight,\n      contentHeight = props.contentHeight,\n      headerHeight = props.headerHeight,\n      rtl = props.rtl;\n  var wheelListener = useRef();\n  var touchStartListener = useRef();\n  var touchMoveListener = useRef();\n\n  var _useState = useState(false),\n      isScrolling = _useState[0],\n      setScrolling = _useState[1];\n\n  var touchX = useRef(0);\n  var touchY = useRef(0);\n  var disableEventsTimeoutId = useRef(null);\n  var shouldHandleWheelX = useCallback(function (delta) {\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n\n    return true;\n  }, [disabledScroll, loading]);\n  var shouldHandleWheelY = useCallback(function (delta) {\n    if (delta === 0 || disabledScroll || loading) {\n      return false;\n    }\n\n    return delta >= 0 && scrollY.current > minScrollY.current || delta < 0 && scrollY.current < 0;\n  }, [disabledScroll, loading, minScrollY, scrollY]);\n  var debounceScrollEndedCallback = useCallback(function () {\n    disableEventsTimeoutId.current = null;\n    setScrolling(false);\n  }, []);\n  var handleWheel = useCallback(function (deltaX, deltaY) {\n    if (!tableRef.current) {\n      return;\n    }\n\n    var nextScrollX = contentWidth.current <= tableWidth.current ? 0 : scrollX.current - deltaX;\n    var nextScrollY = scrollY.current - deltaY;\n    var y = Math.min(0, nextScrollY < minScrollY.current ? minScrollY.current : nextScrollY);\n    var x = Math.min(0, nextScrollX < minScrollX.current ? minScrollX.current : nextScrollX);\n    setScrollX(x);\n    setScrollY(y);\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(Math.abs(x), Math.abs(y));\n    forceUpdatePosition();\n\n    if (virtualized) {\n      setScrolling(true);\n\n      if (disableEventsTimeoutId.current) {\n        cancelAnimationTimeout(disableEventsTimeoutId.current);\n      }\n\n      disableEventsTimeoutId.current = requestAnimationTimeout(debounceScrollEndedCallback, 0);\n    }\n  }, [contentWidth, debounceScrollEndedCallback, minScrollX, minScrollY, onScroll, scrollX, scrollY, setScrollX, setScrollY, tableRef, tableWidth, forceUpdatePosition, virtualized]);\n  var listenWheel = useCallback(function (deltaX, deltaY) {\n    var _scrollbarXRef$curren, _scrollbarXRef$curren2, _scrollbarYRef$curren, _scrollbarYRef$curren2;\n\n    handleWheel(deltaX, deltaY);\n    (_scrollbarXRef$curren = scrollbarXRef.current) === null || _scrollbarXRef$curren === void 0 ? void 0 : (_scrollbarXRef$curren2 = _scrollbarXRef$curren.onWheelScroll) === null || _scrollbarXRef$curren2 === void 0 ? void 0 : _scrollbarXRef$curren2.call(_scrollbarXRef$curren, deltaX);\n    (_scrollbarYRef$curren = scrollbarYRef.current) === null || _scrollbarYRef$curren === void 0 ? void 0 : (_scrollbarYRef$curren2 = _scrollbarYRef$curren.onWheelScroll) === null || _scrollbarYRef$curren2 === void 0 ? void 0 : _scrollbarYRef$curren2.call(_scrollbarYRef$curren, deltaY);\n  }, [handleWheel, scrollbarXRef, scrollbarYRef]);\n  var wheelHandler = useRef(); // When handling the Touch event on the mobile terminal, initialize x and y when Start.\n\n  var handleTouchStart = useCallback(function (event) {\n    if (event.touches) {\n      var _event$touches$ = event.touches[0],\n          pageX = _event$touches$.pageX,\n          pageY = _event$touches$.pageY;\n      touchX.current = pageX;\n      touchY.current = pageY;\n    }\n\n    onTouchStart === null || onTouchStart === void 0 ? void 0 : onTouchStart(event);\n  }, [onTouchStart]); // Handle Touch events on the mobile terminal, initialize when Move, and update the scroll bar.\n\n  var handleTouchMove = useCallback(function (event) {\n    if (event.touches) {\n      var _event$preventDefault, _scrollbarXRef$curren3, _scrollbarXRef$curren4, _scrollbarYRef$curren3, _scrollbarYRef$curren4;\n\n      var _event$touches$2 = event.touches[0],\n          pageX = _event$touches$2.pageX,\n          pageY = _event$touches$2.pageY;\n      var deltaX = touchX.current - pageX;\n      var deltaY = autoHeight ? 0 : touchY.current - pageY;\n\n      if (!shouldHandleWheelY(deltaY) && !shouldHandleWheelX(deltaX)) {\n        return;\n      }\n\n      (_event$preventDefault = event.preventDefault) === null || _event$preventDefault === void 0 ? void 0 : _event$preventDefault.call(event);\n      handleWheel(deltaX, deltaY);\n      (_scrollbarXRef$curren3 = scrollbarXRef.current) === null || _scrollbarXRef$curren3 === void 0 ? void 0 : (_scrollbarXRef$curren4 = _scrollbarXRef$curren3.onWheelScroll) === null || _scrollbarXRef$curren4 === void 0 ? void 0 : _scrollbarXRef$curren4.call(_scrollbarXRef$curren3, deltaX);\n      (_scrollbarYRef$curren3 = scrollbarYRef.current) === null || _scrollbarYRef$curren3 === void 0 ? void 0 : (_scrollbarYRef$curren4 = _scrollbarYRef$curren3.onWheelScroll) === null || _scrollbarYRef$curren4 === void 0 ? void 0 : _scrollbarYRef$curren4.call(_scrollbarYRef$curren3, deltaY);\n      touchX.current = pageX;\n      touchY.current = pageY;\n    }\n\n    onTouchMove === null || onTouchMove === void 0 ? void 0 : onTouchMove(event);\n  }, [autoHeight, handleWheel, onTouchMove, scrollbarXRef, scrollbarYRef, shouldHandleWheelX, shouldHandleWheelY]);\n  var handleHorizontalScroll = useCallback(function (delta) {\n    handleWheel(delta, 0);\n  }, [handleWheel]);\n  var handleVerticalScroll = useCallback(function (delta) {\n    handleWheel(0, delta);\n  }, [handleWheel]);\n  /**\n   * When the user uses the tab key in the Table, the onScroll event is triggered,\n   * and the scroll bar position should be updated at the same time.\n   * https://github.com/rsuite/rsuite/issues/234\n   */\n\n  var handleBodyScroll = useCallback(function (event) {\n    if (event.target !== tableBodyRef.current) {\n      return;\n    }\n\n    var left = scrollLeft(event.target);\n    var top = scrollTop(event.target);\n\n    if (top === 0 && left === 0) {\n      return;\n    }\n\n    listenWheel(left, top);\n    scrollLeft(event.target, 0);\n    scrollTop(event.target, 0);\n  }, [listenWheel, tableBodyRef]);\n  var getControlledScrollTopValue = useCallback(function (value) {\n    if (autoHeight) {\n      return [0, 0];\n    }\n\n    var height = getTableHeight(); // The maximum range of scrolling value is judged.\n\n    value = Math.min(value, Math.max(0, contentHeight.current - (height - headerHeight))); // The value is a value of the theoretical scroll position of the table,\n    // and the scrollY coordinate value and the value of the scroll bar position are calculated by value.\n\n    return [-value, value / contentHeight.current * (height - headerHeight)];\n  }, [autoHeight, contentHeight, getTableHeight, headerHeight]);\n\n  var rerender = function rerender() {\n    setScrolling(true);\n    setTimeout(function () {\n      return setScrolling(false);\n    }, 0);\n  };\n\n  var getControlledScrollLeftValue = function getControlledScrollLeftValue(value) {\n    // The maximum range of scrolling value is judged.\n    value = Math.min(value, Math.max(0, contentWidth.current - tableWidth.current));\n    return [-value, value / contentWidth.current * tableWidth.current];\n  };\n\n  var handleScrollTop = function handleScrollTop(top) {\n    var _scrollbarYRef$curren5, _scrollbarYRef$curren6;\n\n    if (top === void 0) {\n      top = 0;\n    }\n\n    var _getControlledScrollT = getControlledScrollTopValue(top),\n        nextScrollY = _getControlledScrollT[0],\n        handleScrollY = _getControlledScrollT[1];\n\n    setScrollY(nextScrollY);\n    scrollbarYRef === null || scrollbarYRef === void 0 ? void 0 : (_scrollbarYRef$curren5 = scrollbarYRef.current) === null || _scrollbarYRef$curren5 === void 0 ? void 0 : (_scrollbarYRef$curren6 = _scrollbarYRef$curren5.resetScrollBarPosition) === null || _scrollbarYRef$curren6 === void 0 ? void 0 : _scrollbarYRef$curren6.call(_scrollbarYRef$curren5, handleScrollY);\n    forceUpdatePosition();\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(Math.abs(scrollX.current), Math.abs(nextScrollY));\n    /**\n     * After calling `scrollTop`, a white screen will appear when `virtualized` is true.\n     * The reason is that the coordinates of the DOM are directly manipulated,\n     * but the component is not re-rendered. Need to call `rerender`.\n     * Fix: rsuite#1044\n     */\n\n    if (virtualized && contentHeight.current > height) {\n      rerender();\n    }\n  };\n\n  var handleScrollLeft = function handleScrollLeft(left) {\n    var _scrollbarXRef$curren5, _scrollbarXRef$curren6;\n\n    if (left === void 0) {\n      left = 0;\n    }\n\n    var _getControlledScrollL = getControlledScrollLeftValue(left),\n        nextScrollX = _getControlledScrollL[0],\n        scrollbarX = _getControlledScrollL[1];\n\n    setScrollX(nextScrollX);\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(Math.abs(nextScrollX), Math.abs(scrollY.current));\n    scrollbarXRef === null || scrollbarXRef === void 0 ? void 0 : (_scrollbarXRef$curren5 = scrollbarXRef.current) === null || _scrollbarXRef$curren5 === void 0 ? void 0 : (_scrollbarXRef$curren6 = _scrollbarXRef$curren5.resetScrollBarPosition) === null || _scrollbarXRef$curren6 === void 0 ? void 0 : _scrollbarXRef$curren6.call(_scrollbarXRef$curren5, scrollbarX);\n    forceUpdatePosition();\n  };\n\n  var handleScrollTo = function handleScrollTo(coord) {\n    var _ref = coord || {},\n        x = _ref.x,\n        y = _ref.y;\n\n    if (typeof x === 'number') {\n      handleScrollLeft(x);\n    }\n\n    if (typeof y === 'number') {\n      handleScrollTop(y);\n    }\n  };\n\n  useUpdateEffect(function () {\n    handleScrollLeft(0);\n  }, [children, contentWidth.current]);\n  useUpdateEffect(function () {\n    if (scrollY.current !== 0) {\n      handleScrollTop(Math.abs(scrollY.current));\n    }\n  }, [height, data]);\n  useEffect(function () {\n    var options = {\n      passive: false\n    };\n    var tableBody = tableBodyRef.current;\n\n    if (tableBody) {\n      wheelHandler.current = new WheelHandler(listenWheel, shouldHandleWheelX, shouldHandleWheelY, false);\n      wheelListener.current = on(tableBody, 'wheel', wheelHandler.current.onWheel, options);\n      touchStartListener.current = on(tableBody, 'touchstart', handleTouchStart, options);\n      touchMoveListener.current = on(tableBody, 'touchmove', handleTouchMove, options);\n    }\n\n    return function () {\n      var _wheelListener$curren, _touchStartListener$c, _touchMoveListener$cu;\n\n      wheelHandler.current = null;\n      (_wheelListener$curren = wheelListener.current) === null || _wheelListener$curren === void 0 ? void 0 : _wheelListener$curren.off();\n      (_touchStartListener$c = touchStartListener.current) === null || _touchStartListener$c === void 0 ? void 0 : _touchStartListener$c.off();\n      (_touchMoveListener$cu = touchMoveListener.current) === null || _touchMoveListener$cu === void 0 ? void 0 : _touchMoveListener$cu.off();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n  useMount(function () {\n    if (rtl) {\n      var _scrollbarXRef$curren7, _scrollbarXRef$curren8;\n\n      // Initialize scroll position\n      setScrollX(tableWidth.current - contentWidth.current - SCROLLBAR_WIDTH);\n      scrollbarXRef === null || scrollbarXRef === void 0 ? void 0 : (_scrollbarXRef$curren7 = scrollbarXRef.current) === null || _scrollbarXRef$curren7 === void 0 ? void 0 : (_scrollbarXRef$curren8 = _scrollbarXRef$curren7.resetScrollBarPosition) === null || _scrollbarXRef$curren8 === void 0 ? void 0 : _scrollbarXRef$curren8.call(_scrollbarXRef$curren7, -scrollX.current);\n      forceUpdatePosition();\n    }\n  });\n  return {\n    isScrolling: isScrolling,\n    handleHorizontalScroll: handleHorizontalScroll,\n    handleVerticalScroll: handleVerticalScroll,\n    handleBodyScroll: handleBodyScroll,\n    handleScrollTop: handleScrollTop,\n    handleScrollLeft: handleScrollLeft,\n    handleScrollTo: handleScrollTo\n  };\n};\n\nexport default useScrollListener;"]},"metadata":{},"sourceType":"module"}