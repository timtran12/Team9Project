{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useState, useRef, useCallback, useEffect, useImperativeHandle } from 'react';\nimport PropTypes from 'prop-types';\nimport { DOMMouseMoveTracker, addStyle, getOffset } from 'dom-lib';\nimport { SCROLLBAR_MIN_WIDTH } from './constants';\nimport { useMount, useClassNames } from './utils';\nimport TableContext from './TableContext';\nvar Scrollbar = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _styles;\n\n  var vertical = props.vertical,\n      length = props.length,\n      scrollLength = props.scrollLength,\n      classPrefix = props.classPrefix,\n      className = props.className,\n      tableId = props.tableId,\n      onMouseDown = props.onMouseDown,\n      onScroll = props.onScroll,\n      rest = _objectWithoutPropertiesLoose(props, [\"vertical\", \"length\", \"scrollLength\", \"classPrefix\", \"className\", \"tableId\", \"onMouseDown\", \"onScroll\"]);\n\n  var _React$useContext = React.useContext(TableContext),\n      translateDOMPositionXY = _React$useContext.translateDOMPositionXY;\n\n  var _useState = useState(false),\n      handlePressed = _useState[0],\n      setHandlePressed = _useState[1];\n\n  var _useState2 = useState({\n    top: 0,\n    left: 0\n  }),\n      barOffset = _useState2[0],\n      setBarOffset = _useState2[1];\n\n  var scrollOffset = useRef(0);\n  var barRef = useRef();\n  var handleRef = useRef();\n  var mouseMoveTracker = useRef();\n\n  var _useClassNames = useClassNames(classPrefix),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var classes = merge(className, withClassPrefix({\n    vertical: vertical,\n    horizontal: !vertical,\n    hide: scrollLength <= length,\n    pressed: handlePressed\n  }));\n  var width = length / scrollLength * 100;\n  var styles = (_styles = {}, _styles[vertical ? 'height' : 'width'] = width + \"%\", _styles[vertical ? 'minHeight' : 'minWidth'] = SCROLLBAR_MIN_WIDTH, _styles);\n  var valuenow = scrollOffset.current / length * 100 + width;\n  useMount(function () {\n    setTimeout(function () {\n      if (barRef.current) {\n        setBarOffset(getOffset(barRef.current));\n      }\n    }, 1);\n  });\n  useEffect(function () {\n    return function () {\n      releaseMouseMoves();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useImperativeHandle(ref, function () {\n    return {\n      get root() {\n        return barRef.current;\n      },\n\n      get handle() {\n        return handleRef.current;\n      },\n\n      onWheelScroll: function onWheelScroll(delta) {\n        var nextDelta = delta / (scrollLength / length);\n        updateScrollBarPosition(nextDelta);\n      },\n      resetScrollBarPosition: function resetScrollBarPosition(forceDelta) {\n        if (forceDelta === void 0) {\n          forceDelta = 0;\n        }\n\n        scrollOffset.current = 0;\n        updateScrollBarPosition(0, forceDelta);\n      }\n    };\n  });\n  var updateScrollBarPosition = useCallback(function (delta, forceDelta) {\n    var max = scrollLength && length ? length - Math.max(length / scrollLength * length, SCROLLBAR_MIN_WIDTH + 2) : 0;\n    var styles = {};\n\n    if (typeof forceDelta === 'undefined') {\n      scrollOffset.current += delta;\n      scrollOffset.current = Math.max(scrollOffset.current, 0);\n      scrollOffset.current = Math.min(scrollOffset.current, max);\n    } else {\n      scrollOffset.current = forceDelta || 0;\n    }\n\n    if (vertical) {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, 0, scrollOffset.current);\n    } else {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, scrollOffset.current, 0);\n    }\n\n    addStyle(handleRef.current, styles);\n  }, [length, scrollLength, translateDOMPositionXY, vertical]);\n  var handleScroll = useCallback(function (delta, event) {\n    var scrollDelta = delta * (scrollLength / length);\n    updateScrollBarPosition(delta);\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(scrollDelta, event);\n  }, [length, onScroll, scrollLength, updateScrollBarPosition]);\n  var handleClick = useCallback(function (event) {\n    var _handleRef$current;\n\n    if (handleRef.current && (_handleRef$current = handleRef.current) !== null && _handleRef$current !== void 0 && _handleRef$current.contains(event.target)) {\n      return;\n    }\n\n    var offset = vertical ? event.pageY - barOffset.top : event.pageX - barOffset.left;\n    var handleWidth = length / scrollLength * length;\n    var delta = offset - handleWidth;\n    var nextDelta = offset > scrollOffset.current ? delta - scrollOffset.current : offset - scrollOffset.current;\n    handleScroll(nextDelta, event);\n  }, [barOffset.left, barOffset.top, handleScroll, length, scrollLength, vertical]);\n  var releaseMouseMoves = useCallback(function () {\n    var _mouseMoveTracker$cur, _mouseMoveTracker$cur2;\n\n    (_mouseMoveTracker$cur = mouseMoveTracker.current) === null || _mouseMoveTracker$cur === void 0 ? void 0 : (_mouseMoveTracker$cur2 = _mouseMoveTracker$cur.releaseMouseMoves) === null || _mouseMoveTracker$cur2 === void 0 ? void 0 : _mouseMoveTracker$cur2.call(_mouseMoveTracker$cur);\n    mouseMoveTracker.current = null;\n  }, []);\n  var handleDragMove = useCallback(function (deltaX, deltaY, event) {\n    var _window, _window$event;\n\n    if (!mouseMoveTracker.current || !mouseMoveTracker.current.isDragging()) {\n      return;\n    }\n\n    if ((event === null || event === void 0 ? void 0 : event.buttons) === 0 || ((_window = window) === null || _window === void 0 ? void 0 : (_window$event = _window.event) === null || _window$event === void 0 ? void 0 : _window$event['buttons']) === 0) {\n      releaseMouseMoves();\n      return;\n    }\n\n    handleScroll(vertical ? deltaY : deltaX, event);\n  }, [handleScroll, releaseMouseMoves, vertical]);\n  var handleDragEnd = useCallback(function () {\n    releaseMouseMoves();\n    setHandlePressed(false);\n  }, [releaseMouseMoves]);\n  var getMouseMoveTracker = useCallback(function () {\n    return mouseMoveTracker.current || new DOMMouseMoveTracker(handleDragMove, handleDragEnd, document.body);\n  }, [handleDragEnd, handleDragMove]);\n  var handleMouseDown = useCallback(function (event) {\n    var _mouseMoveTracker$cur3;\n\n    mouseMoveTracker.current = getMouseMoveTracker();\n    mouseMoveTracker === null || mouseMoveTracker === void 0 ? void 0 : (_mouseMoveTracker$cur3 = mouseMoveTracker.current) === null || _mouseMoveTracker$cur3 === void 0 ? void 0 : _mouseMoveTracker$cur3.captureMouseMoves(event);\n    setHandlePressed(true);\n    onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(event);\n  }, [getMouseMoveTracker, onMouseDown]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"scrollbar\",\n    \"aria-controls\": tableId,\n    \"aria-valuemax\": 100,\n    \"aria-valuemin\": 0,\n    \"aria-valuenow\": valuenow,\n    \"aria-orientation\": vertical ? 'vertical' : 'horizontal'\n  }, rest, {\n    ref: barRef,\n    className: classes,\n    onClick: handleClick\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: handleRef,\n    className: prefix('handle'),\n    style: styles,\n    onMouseDown: handleMouseDown,\n    role: \"button\",\n    tabIndex: -1\n  }));\n});\nScrollbar.displayName = 'Table.Scrollbar';\nScrollbar.propTypes = {\n  tableId: PropTypes.string,\n  vertical: PropTypes.bool,\n  length: PropTypes.number,\n  scrollLength: PropTypes.number,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  onScroll: PropTypes.func,\n  onMouseDown: PropTypes.func\n};\nScrollbar.defaultProps = {\n  classPrefix: 'scrollbar',\n  scrollLength: 1,\n  length: 1\n};\nexport default Scrollbar;","map":{"version":3,"sources":["/mnt/c/Users/moham/documents/CSE 3311/Team9Project/node_modules/rsuite-table/es/Scrollbar.js"],"names":["_extends","_objectWithoutPropertiesLoose","React","useState","useRef","useCallback","useEffect","useImperativeHandle","PropTypes","DOMMouseMoveTracker","addStyle","getOffset","SCROLLBAR_MIN_WIDTH","useMount","useClassNames","TableContext","Scrollbar","forwardRef","props","ref","_styles","vertical","length","scrollLength","classPrefix","className","tableId","onMouseDown","onScroll","rest","_React$useContext","useContext","translateDOMPositionXY","_useState","handlePressed","setHandlePressed","_useState2","top","left","barOffset","setBarOffset","scrollOffset","barRef","handleRef","mouseMoveTracker","_useClassNames","withClassPrefix","merge","prefix","classes","horizontal","hide","pressed","width","styles","valuenow","current","setTimeout","releaseMouseMoves","root","handle","onWheelScroll","delta","nextDelta","updateScrollBarPosition","resetScrollBarPosition","forceDelta","max","Math","min","handleScroll","event","scrollDelta","handleClick","_handleRef$current","contains","target","offset","pageY","pageX","handleWidth","_mouseMoveTracker$cur","_mouseMoveTracker$cur2","call","handleDragMove","deltaX","deltaY","_window","_window$event","isDragging","buttons","window","handleDragEnd","getMouseMoveTracker","document","body","handleMouseDown","_mouseMoveTracker$cur3","captureMouseMoves","createElement","role","onClick","style","tabIndex","displayName","propTypes","string","bool","number","func","defaultProps"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React, { useState, useRef, useCallback, useEffect, useImperativeHandle } from 'react';\nimport PropTypes from 'prop-types';\nimport { DOMMouseMoveTracker, addStyle, getOffset } from 'dom-lib';\nimport { SCROLLBAR_MIN_WIDTH } from './constants';\nimport { useMount, useClassNames } from './utils';\nimport TableContext from './TableContext';\nvar Scrollbar = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var _styles;\n\n  var vertical = props.vertical,\n      length = props.length,\n      scrollLength = props.scrollLength,\n      classPrefix = props.classPrefix,\n      className = props.className,\n      tableId = props.tableId,\n      onMouseDown = props.onMouseDown,\n      onScroll = props.onScroll,\n      rest = _objectWithoutPropertiesLoose(props, [\"vertical\", \"length\", \"scrollLength\", \"classPrefix\", \"className\", \"tableId\", \"onMouseDown\", \"onScroll\"]);\n\n  var _React$useContext = React.useContext(TableContext),\n      translateDOMPositionXY = _React$useContext.translateDOMPositionXY;\n\n  var _useState = useState(false),\n      handlePressed = _useState[0],\n      setHandlePressed = _useState[1];\n\n  var _useState2 = useState({\n    top: 0,\n    left: 0\n  }),\n      barOffset = _useState2[0],\n      setBarOffset = _useState2[1];\n\n  var scrollOffset = useRef(0);\n  var barRef = useRef();\n  var handleRef = useRef();\n  var mouseMoveTracker = useRef();\n\n  var _useClassNames = useClassNames(classPrefix),\n      withClassPrefix = _useClassNames.withClassPrefix,\n      merge = _useClassNames.merge,\n      prefix = _useClassNames.prefix;\n\n  var classes = merge(className, withClassPrefix({\n    vertical: vertical,\n    horizontal: !vertical,\n    hide: scrollLength <= length,\n    pressed: handlePressed\n  }));\n  var width = length / scrollLength * 100;\n  var styles = (_styles = {}, _styles[vertical ? 'height' : 'width'] = width + \"%\", _styles[vertical ? 'minHeight' : 'minWidth'] = SCROLLBAR_MIN_WIDTH, _styles);\n  var valuenow = scrollOffset.current / length * 100 + width;\n  useMount(function () {\n    setTimeout(function () {\n      if (barRef.current) {\n        setBarOffset(getOffset(barRef.current));\n      }\n    }, 1);\n  });\n  useEffect(function () {\n    return function () {\n      releaseMouseMoves();\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useImperativeHandle(ref, function () {\n    return {\n      get root() {\n        return barRef.current;\n      },\n\n      get handle() {\n        return handleRef.current;\n      },\n\n      onWheelScroll: function onWheelScroll(delta) {\n        var nextDelta = delta / (scrollLength / length);\n        updateScrollBarPosition(nextDelta);\n      },\n      resetScrollBarPosition: function resetScrollBarPosition(forceDelta) {\n        if (forceDelta === void 0) {\n          forceDelta = 0;\n        }\n\n        scrollOffset.current = 0;\n        updateScrollBarPosition(0, forceDelta);\n      }\n    };\n  });\n  var updateScrollBarPosition = useCallback(function (delta, forceDelta) {\n    var max = scrollLength && length ? length - Math.max(length / scrollLength * length, SCROLLBAR_MIN_WIDTH + 2) : 0;\n    var styles = {};\n\n    if (typeof forceDelta === 'undefined') {\n      scrollOffset.current += delta;\n      scrollOffset.current = Math.max(scrollOffset.current, 0);\n      scrollOffset.current = Math.min(scrollOffset.current, max);\n    } else {\n      scrollOffset.current = forceDelta || 0;\n    }\n\n    if (vertical) {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, 0, scrollOffset.current);\n    } else {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, scrollOffset.current, 0);\n    }\n\n    addStyle(handleRef.current, styles);\n  }, [length, scrollLength, translateDOMPositionXY, vertical]);\n  var handleScroll = useCallback(function (delta, event) {\n    var scrollDelta = delta * (scrollLength / length);\n    updateScrollBarPosition(delta);\n    onScroll === null || onScroll === void 0 ? void 0 : onScroll(scrollDelta, event);\n  }, [length, onScroll, scrollLength, updateScrollBarPosition]);\n  var handleClick = useCallback(function (event) {\n    var _handleRef$current;\n\n    if (handleRef.current && (_handleRef$current = handleRef.current) !== null && _handleRef$current !== void 0 && _handleRef$current.contains(event.target)) {\n      return;\n    }\n\n    var offset = vertical ? event.pageY - barOffset.top : event.pageX - barOffset.left;\n    var handleWidth = length / scrollLength * length;\n    var delta = offset - handleWidth;\n    var nextDelta = offset > scrollOffset.current ? delta - scrollOffset.current : offset - scrollOffset.current;\n    handleScroll(nextDelta, event);\n  }, [barOffset.left, barOffset.top, handleScroll, length, scrollLength, vertical]);\n  var releaseMouseMoves = useCallback(function () {\n    var _mouseMoveTracker$cur, _mouseMoveTracker$cur2;\n\n    (_mouseMoveTracker$cur = mouseMoveTracker.current) === null || _mouseMoveTracker$cur === void 0 ? void 0 : (_mouseMoveTracker$cur2 = _mouseMoveTracker$cur.releaseMouseMoves) === null || _mouseMoveTracker$cur2 === void 0 ? void 0 : _mouseMoveTracker$cur2.call(_mouseMoveTracker$cur);\n    mouseMoveTracker.current = null;\n  }, []);\n  var handleDragMove = useCallback(function (deltaX, deltaY, event) {\n    var _window, _window$event;\n\n    if (!mouseMoveTracker.current || !mouseMoveTracker.current.isDragging()) {\n      return;\n    }\n\n    if ((event === null || event === void 0 ? void 0 : event.buttons) === 0 || ((_window = window) === null || _window === void 0 ? void 0 : (_window$event = _window.event) === null || _window$event === void 0 ? void 0 : _window$event['buttons']) === 0) {\n      releaseMouseMoves();\n      return;\n    }\n\n    handleScroll(vertical ? deltaY : deltaX, event);\n  }, [handleScroll, releaseMouseMoves, vertical]);\n  var handleDragEnd = useCallback(function () {\n    releaseMouseMoves();\n    setHandlePressed(false);\n  }, [releaseMouseMoves]);\n  var getMouseMoveTracker = useCallback(function () {\n    return mouseMoveTracker.current || new DOMMouseMoveTracker(handleDragMove, handleDragEnd, document.body);\n  }, [handleDragEnd, handleDragMove]);\n  var handleMouseDown = useCallback(function (event) {\n    var _mouseMoveTracker$cur3;\n\n    mouseMoveTracker.current = getMouseMoveTracker();\n    mouseMoveTracker === null || mouseMoveTracker === void 0 ? void 0 : (_mouseMoveTracker$cur3 = mouseMoveTracker.current) === null || _mouseMoveTracker$cur3 === void 0 ? void 0 : _mouseMoveTracker$cur3.captureMouseMoves(event);\n    setHandlePressed(true);\n    onMouseDown === null || onMouseDown === void 0 ? void 0 : onMouseDown(event);\n  }, [getMouseMoveTracker, onMouseDown]);\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    role: \"scrollbar\",\n    \"aria-controls\": tableId,\n    \"aria-valuemax\": 100,\n    \"aria-valuemin\": 0,\n    \"aria-valuenow\": valuenow,\n    \"aria-orientation\": vertical ? 'vertical' : 'horizontal'\n  }, rest, {\n    ref: barRef,\n    className: classes,\n    onClick: handleClick\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    ref: handleRef,\n    className: prefix('handle'),\n    style: styles,\n    onMouseDown: handleMouseDown,\n    role: \"button\",\n    tabIndex: -1\n  }));\n});\nScrollbar.displayName = 'Table.Scrollbar';\nScrollbar.propTypes = {\n  tableId: PropTypes.string,\n  vertical: PropTypes.bool,\n  length: PropTypes.number,\n  scrollLength: PropTypes.number,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  onScroll: PropTypes.func,\n  onMouseDown: PropTypes.func\n};\nScrollbar.defaultProps = {\n  classPrefix: 'scrollbar',\n  scrollLength: 1,\n  length: 1\n};\nexport default Scrollbar;"]},"metadata":{},"sourceType":"module"}